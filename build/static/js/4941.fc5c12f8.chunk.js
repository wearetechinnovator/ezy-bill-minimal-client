"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4941],{54941:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(65043),n=s(75206),l=s(86319),i=s(59002),c=s(11474),o=s(52185),d=s(70760),r=s(80379),h=s(70095),m=s(80227),x=s(16992),p=s(56102),j=s(17869),u=s(75200),g=s(1880),y=s(66580),b=s(70579);document.title="Dashboard";const v=()=>{const[e,t]=(0,a.useState)([]),[s,v]=(0,a.useState)([]),[N,f]=(0,a.useState)([]),[w,A]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[T,F]=(0,a.useState)([]),C=["#00C49F","#0088FE","#FF8042","#FFBB28"];return(0,a.useEffect)((()=>{const e=[{name:"Jan"},{name:"Feb"},{name:"Mar"},{name:"Apr"},{name:"May"},{name:"Jun"},{name:"Jul"},{name:"Aug"},{name:"Sep"},{name:"Oct"},{name:"Nov"},{name:"Dec"}];(async()=>{try{const[t,s]=await Promise.all([fetch("https://ezy-bill-api.tisindia.net/api/v1/paymentin/month-wise",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g.A.get("token")})}).then((e=>e.json())),fetch("https://ezy-bill-api.tisindia.net/api/v1/paymentout/month-wise",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g.A.get("token")})}).then((e=>e.json()))]);e.forEach(((e,a)=>{var n,l;e.Collect=(null===(n=t[a])||void 0===n?void 0:n.totalAmount)||0,e.Pay=(null===(l=s[a])||void 0===l?void 0:l.totalAmount)||0})),F(e)}catch(t){console.log(t)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e={token:g.A.get("token"),all:!0},s="https://ezy-bill-api.tisindia.net/api/v1"+"/account/get?page=".concat(1,"&limit=",1e5),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=(await a.json()).data.reduce(((e,t)=>(e.push({name:t.title,value:t.openingBalance}),e)),[]);t(n)}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e="https://ezy-bill-api.tisindia.net/api/v1/purchaseinvoice/get-total-pay",t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g.A.get("token")})}),s=await t.json();200===t.status&&(s.length>0?k(s[0].totalAmount):k(0))}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e="https://ezy-bill-api.tisindia.net/api/v1/salesinvoice/get-total-collect",t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g.A.get("token")})}),s=await t.json();200===t.status&&(s.length>0?A(s[0].totalAmount):A(0))}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e={token:g.A.get("token"),all:!1},t="https://ezy-bill-api.tisindia.net/api/v1"+"/purchaseinvoice/get?page=".concat(1,"&limit=",2),s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();v((null===a||void 0===a?void 0:a.data)||[])}catch(e){console.log(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{try{const e={token:g.A.get("token"),all:!1},t="https://ezy-bill-api.tisindia.net/api/v1"+"/salesinvoice/get?page=".concat(1,"&limit=",2),s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();f((null===a||void 0===a?void 0:a.data)||[])}catch(e){console.log(e)}})()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.A,{title:"Dashboard"}),(0,b.jsxs)("main",{id:"main",children:[(0,b.jsx)(l.A,{}),(0,b.jsxs)("div",{className:"content__body p-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,b.jsx)("div",{className:"bg-white shadow rounded-md px-4 py-2 flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"To Collect"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null===w||void 0===w?void 0:w.toFixed(2)}),(0,b.jsx)("p",{className:"text-sm text-green-500 flex items-center gap-1 mt-1",children:(0,b.jsx)(u.ARf,{})})]})}),(0,b.jsx)("div",{className:"bg-white shadow rounded-md px-4 py-2 flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"To Pay"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===S||void 0===S?void 0:S.toFixed(2)}),(0,b.jsx)("p",{className:"text-sm text-red-500 flex items-center gap-1 mt-1",children:(0,b.jsx)(u.JW4,{})})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-white shadow rounded-md p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Cash Flow"}),(0,b.jsx)(i.u,{width:"100%",height:250,children:(0,b.jsxs)(c.E,{data:T,children:[(0,b.jsx)(o.W,{dataKey:"name"}),(0,b.jsx)(d.h,{}),(0,b.jsx)(r.m,{}),(0,b.jsx)(h.s,{}),(0,b.jsx)(m.y,{dataKey:"Collect",fill:"#00C49F"}),(0,b.jsx)(m.y,{dataKey:"Pay",fill:"#FF5A5F"})]})})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-md p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Account Wise Balance"}),(0,b.jsx)(i.u,{width:"100%",height:250,children:(0,b.jsxs)(x.r,{children:[(0,b.jsx)(p.F,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:e.map(((e,t)=>(0,b.jsx)(j.f,{fill:C[t%C.length]},"cell-".concat(t))))}),(0,b.jsx)(h.s,{})]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white shadow rounded-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Recent Sales"}),(0,b.jsx)(y.N_,{to:"/admin/sales-invoice",className:"text-xs text-blue-500 hover:text-blue-500 cursor-pointer",children:"See All"})]}),(0,b.jsxs)("table",{className:"w-full text-left border",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-2",children:"Party"}),(0,b.jsx)("th",{className:"p-2",children:"Invoice No"}),(0,b.jsx)("th",{className:"p-2",children:"Date"}),(0,b.jsx)("th",{className:"p-2",children:"Amount"})]})}),(0,b.jsx)("tbody",{children:null===N||void 0===N?void 0:N.map(((e,t)=>{var s;return(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("td",{className:"p-2",children:null===(s=e.party)||void 0===s?void 0:s.name}),(0,b.jsx)("td",{className:"p-2",children:e.salesInvoiceNumber}),(0,b.jsx)("td",{className:"p-2",children:e.invoiceDate.split("T")[0]}),(0,b.jsx)("td",{className:"p-2 text-green-600",children:e.finalAmount})]},t)}))})]})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-md p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Recent Purchases"}),(0,b.jsx)(y.N_,{to:"/admin/purchase-invoice",className:"text-xs text-blue-500 cursor-pointer",children:"See All"})]}),(0,b.jsxs)("table",{className:"w-full text-left border",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-2",children:"Party"}),(0,b.jsx)("th",{className:"p-2",children:"Invoice No"}),(0,b.jsx)("th",{className:"p-2",children:"Amount"})]})}),(0,b.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,t)=>{var s;return(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("td",{className:"p-2",children:null===(s=e.party)||void 0===s?void 0:s.name}),(0,b.jsx)("td",{className:"p-2",children:e.originalInvoiceNumber}),(0,b.jsx)("td",{className:"p-2 text-red-600",children:e.finalAmount})]},t)}))})]})]})]})]})]})]})}}}]);
//# sourceMappingURL=4941.fc5c12f8.chunk.js.map