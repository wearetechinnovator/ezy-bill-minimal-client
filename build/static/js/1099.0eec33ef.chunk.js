"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1099],{91099:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(89379),l=t(65043),i=t(75206),n=t(86319),c=(t(6839),t(9435)),r=t(66580),d=t(1880),x=t(53435),o=t(70579);const u=e=>{let{mode:s}=e;const t=(0,c.A)(),[u,p]=((0,l.useRef)(null),(0,l.useState)({title:"",details:"",gst:"0",cess:"0"})),{id:h}=(0,r.g)(),m=(0,r.Zp)();(0,l.useEffect)((()=>{if(s){(async()=>{const e=d.A.get("token"),s=await fetch("https://ezy-bill-api.tisindia.net/api/v1/tax/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,id:h})}),t=await s.json();p((0,a.A)((0,a.A)({},u),t.data))})()}}),[s]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{title:s?"Upate Tax":"Add Tax"}),(0,o.jsxs)("main",{id:"main",children:[(0,o.jsx)(n.A,{}),(0,o.jsx)("div",{className:"content__body",children:(0,o.jsxs)("div",{className:"content__body__main bg-white ",children:[(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("div",{className:"p-2",children:[(0,o.jsxs)("p",{className:"pb-1",children:["Title ",(0,o.jsx)("span",{className:"required__text",children:"*"})]}),(0,o.jsx)("input",{type:"text",onChange:e=>p((0,a.A)((0,a.A)({},u),{},{title:e.target.value})),value:u.title})]})}),(0,o.jsxs)("div",{className:"w-full flex flex-col lg:flex-row",children:[(0,o.jsxs)("div",{className:"p-2 w-full",children:[(0,o.jsxs)("p",{className:"pb-1",children:["GST (%)"," ",(0,o.jsx)("span",{className:"required__text",children:"*"})]}),(0,o.jsx)("input",{type:"text",onChange:e=>p((0,a.A)((0,a.A)({},u),{},{gst:e.target.value})),value:u.gst})]}),(0,o.jsxs)("div",{className:"p-2 w-full",children:[(0,o.jsx)("p",{className:"pb-1",children:"CESS (%)"}),(0,o.jsx)("input",{type:"text",onChange:e=>p((0,a.A)((0,a.A)({},u),{},{cess:e.target.value})),value:u.cess})]})]})]}),(0,o.jsxs)("div",{className:"flex justify-center pt-9 mb-6",children:[(0,o.jsxs)("div",{className:"flex rounded-sm bg-green-500 text-white",children:[(0,o.jsx)(x.F.CHECK,{className:"mt-3 ml-2"}),(0,o.jsx)("button",{className:"p-2",onClick:async e=>{if(""===u.title)return t("Please enter title","error");if(""===u.gst)return t("Please enter GST","error");try{const e="https://ezy-bill-api.tisindia.net/api/v1/tax/add",l=d.A.get("token"),i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s?(0,a.A)((0,a.A)({},u),{},{token:l,update:!0,id:h}):(0,a.A)((0,a.A)({},u),{},{token:l}))}),n=await i.json();return 200!==i.status||n.err?t(n.err,"error"):(s||p({title:"",details:"",gst:"0",cess:"0"}),t(s?"Tax update success":"Tax create success","success"),void m("/admin/tax"))}catch(l){return t("Something went wrong","error")}},children:s?"Update":"Save"})]}),(0,o.jsxs)("div",{className:"flex rounded-sm ml-4 bg-blue-500 text-white",children:[(0,o.jsx)(x.F.RESET,{className:"mt-3 ml-2"}),(0,o.jsx)("button",{className:"p-2",onClick:e=>{p({title:""})},children:"Reset"})]})]})]})})]})]})}}}]);
//# sourceMappingURL=1099.0eec33ef.chunk.js.map