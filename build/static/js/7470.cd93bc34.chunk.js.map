{"version":3,"file":"static/js/7470.cd93bc34.chunk.js","mappings":"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","sources":["hooks/useApi.jsx","pages/Transactions/TransactionAdd.jsx"],"sourcesContent":["import Cookies from 'js-cookie';\r\n\r\nconst useApi = () => {\r\n  const getApiData = async (model, id, barCode) => {\r\n    let payload = { token: Cookies.get(\"token\") };\r\n    if (id) {\r\n      payload = { ...payload, id };\r\n    }\r\n    if (barCode) {\r\n      payload = { ...payload, barCode };\r\n    }\r\n    \r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + `/${model}/get`;\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      const res = await req.json();\r\n      return res;\r\n\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n\r\n  return { getApiData };\r\n}\r\n\r\nexport default useApi;","import React, { useEffect, useState } from 'react'\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav';\r\nimport { SelectPicker, DatePicker, Button } from 'rsuite';\r\nimport { FaRegCheckCircle } from \"react-icons/fa\";\r\nimport { LuRefreshCcw } from \"react-icons/lu\";\r\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport useApi from '../../hooks/useApi';\r\nimport Cookies from 'js-cookie';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\n\r\nconst TransactionAdd = ({ mode }) => {\r\n  const { getApiData } = useApi();\r\n  const [inputval, setInputval] = useState({\r\n    transactionType: '', purpose: '', transactionNumber: '', transactionDate: '',\r\n    paymentMode: '', account: '', amount: '', note: ''\r\n  })\r\n  // Store account\r\n  const [account, setAccount] = useState([]);\r\n  const toast = useMyToaster();\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (mode) {\r\n      const get = async () => {\r\n        const url = process.env.REACT_APP_API_URL + \"/other-transaction/get\";\r\n        const cookie = Cookies.get(\"token\");\r\n\r\n        const req = await fetch(url, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": 'application/json'\r\n          },\r\n          body: JSON.stringify({ token: cookie, id: id })\r\n        })\r\n        const res = await req.json();\r\n        console.log(res)\r\n        setInputval({ ...inputval, ...res.data });\r\n      }\r\n\r\n      get();\r\n    }\r\n  }, [mode])\r\n\r\n\r\n  useEffect(() => {\r\n    const apiData = async () => {\r\n      {\r\n        const data = await getApiData(\"account\");\r\n        const account = data.data.map(d => ({ label: d.title, value: d._id }));\r\n        setAccount([...account])\r\n      }\r\n    }\r\n\r\n    apiData();\r\n  }, [])\r\n\r\n\r\n  const saveTransaction = async (e) => {\r\n    if (inputval.transactionType === \"\" || inputval.purpose === \"\" || inputval.transactionNumber === \"\" ||\r\n      inputval.transactionDate === \"\" || inputval.paymentMode === \"\" || inputval.account === \"\" || inputval.amount === \"\") {\r\n      return toast(\"fill the blank\", \"error\");\r\n    }\r\n\r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + \"/other-transaction/add\";\r\n      const token = Cookies.get(\"token\");\r\n\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(!mode ? { ...inputval, token } : { ...inputval, token, update: true, id: id })\r\n      })\r\n      const res = await req.json();\r\n      if (req.status !== 200 || res.err) {\r\n        return toast(res.err, 'error');\r\n      }\r\n\r\n      if (mode) {\r\n        return toast('Transaction update successfully', 'success');\r\n      }\r\n\r\n      clearForm();\r\n      \r\n      toast('Transaction add successfully', 'success');\r\n      navigate(\"/admin/other-transaction\")\r\n      return \r\n\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      return toast('Something went wrong', 'error')\r\n    }\r\n\r\n  }\r\n\r\n  const clearForm = () => {\r\n    setInputval({\r\n      transactionType: '', purpose: '', transactionNumber: '', transactionDate: '',\r\n      paymentMode: '', account: '', amount: '', note: ''\r\n    })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Nav title={mode ? \"Edit transations\" : \"Add transations\"} />\r\n      <main id=\"main\">\r\n        <SideNav />\r\n        <div className='content__body '>\r\n          <div className='content__body__main bg-white' >\r\n            <div className='flex justify-between gap-4 flex-col lg:flex-row'>\r\n              <div className='w-full'>\r\n                <div>\r\n                  <p className='ml-1 mb-1'> Select Transaction Type</p>\r\n                  <select\r\n                    onChange={(e) => {\r\n                      setInputval({ ...inputval, transactionType: e.target.value })\r\n                    }}\r\n                    value={inputval.transactionType}\r\n                  >\r\n                    <option value=\"\">--Select Type--</option>\r\n                    <option value=\"income\">Income</option>\r\n                    <option value=\"expense\">Expense</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <p className='ml-1 mb-1 mt-2'>Purpose</p>\r\n                  <input type='text' onChange={(e) => setInputval({ ...inputval, purpose: e.target.value })}\r\n                    value={inputval.purpose} />\r\n                </div>\r\n                <div>\r\n                  <p className='ml-1 mb-1 mt-2'>Transaction Number</p>\r\n                  <input type='number' onChange={(e) => setInputval({ ...inputval, transactionNumber: e.target.value })}\r\n                    value={inputval.transactionNumber} />\r\n                </div>\r\n                <div>\r\n                  <p className='ml-1 mb-1 mt-2'>Transaction Date</p>\r\n                  <input type='date' onChange={(e) => setInputval({ ...inputval, transactionDate: e.target.value })}\r\n                    value={inputval.transactionDate} />\r\n                </div>\r\n              </div>\r\n              <div className='w-full'>\r\n                <div>\r\n                  <p className='ml-1 mb-1'>Payment Mode</p>\r\n                  <select\r\n                    onChange={(e) => {\r\n                      setInputval({ ...inputval, paymentMode: e.target.value })\r\n                    }}\r\n                    value={inputval.paymentMode}\r\n                  >\r\n                    <option value=\"\">--Select Type--</option>\r\n                    <option value=\"cash\">Cash</option>\r\n                    <option value=\"bank\">Bank</option>\r\n                    <option value=\"cheque\">Cheque</option>\r\n                  </select>\r\n                </div>\r\n                <div >\r\n                  <p className='ml-1 mb-1 mt-2'>Account</p>\r\n                  <SelectPicker className='w-full'\r\n                    onChange={(v) => setInputval({ ...inputval, account: v })}\r\n                    data={account}\r\n                    value={inputval.account}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <p className='ml-1 mb-1 mt-2'>Amount</p>\r\n                  <input type='number' onChange={(e) =>\r\n                    setInputval({ ...inputval, amount: e.target.value })}\r\n                    value={inputval.amount} />\r\n                </div>\r\n                <div>\r\n                  <p className='ml-1 mb-1 mt-2'>Note/Remark</p>\r\n                  <input type='text' onChange={(e) =>\r\n                    setInputval({ ...inputval, note: e.target.value })}\r\n                    value={inputval.note} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='flex justify-center pt-9 mb-6'>\r\n              <div className='flex rounded-sm bg-green-500 text-white'>\r\n                <FaRegCheckCircle className='mt-3 ml-2' />\r\n                <button className='p-2' onClick={saveTransaction}>{mode ? \"Update\" : \"Save\"}</button>\r\n              </div>\r\n              <div className='flex rounded-sm ml-4 bg-blue-500 text-white'>\r\n                <LuRefreshCcw className='mt-3 ml-2' />\r\n                <button className='p-2' onClick={clearForm}>Reset</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TransactionAdd;\r\n\r\n"],"names":["useApi","getApiData","async","model","id","barCode","payload","token","Cookies","get","_objectSpread","url","process","concat","req","fetch","method","headers","body","JSON","stringify","json","error","_ref","mode","inputval","setInputval","useState","transactionType","purpose","transactionNumber","transactionDate","paymentMode","account","amount","note","setAccount","toast","useMyToaster","useParams","navigate","useNavigate","useEffect","cookie","res","console","log","data","map","d","label","title","value","_id","apiData","clearForm","_jsxs","_Fragment","children","_jsx","Nav","SideNav","className","onChange","e","target","type","SelectPicker","v","FaRegCheckCircle","onClick","update","status","err","LuRefreshCcw"],"sourceRoot":""}