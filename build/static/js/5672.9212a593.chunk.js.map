{"version":3,"file":"static/js/5672.9212a593.chunk.js","mappings":"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","sources":["pages/accounts/AddAccount.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav'\r\nimport { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { FaRegCheckCircle } from \"react-icons/fa\";\r\nimport { LuRefreshCcw } from \"react-icons/lu\";\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport Cookies from 'js-cookie';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\nconst AddAccount = ({ mode }) => {\r\n    const toast = useMyToaster();\r\n    const { id } = useParams();\r\n    const [from, setForm] = useState({\r\n        title: '', accountName: '', accountNumber: '', ifscCode: '', bankName: '', openingBalance: '',\r\n        type: '', details: ''\r\n    })\r\n    const navigate = useNavigate()\r\n\r\n\r\n\r\n    // Get data for update mode\r\n    useEffect(() => {\r\n        if (mode) {\r\n            const get = async () => {\r\n                const url = process.env.REACT_APP_API_URL + \"/account/get\";\r\n                const cookie = Cookies.get(\"token\");\r\n\r\n                const req = await fetch(url, {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": 'application/json'\r\n                    },\r\n                    body: JSON.stringify({ token: cookie, id: id })\r\n                })\r\n                const res = await req.json();\r\n                setForm({ ...from, ...res.data });\r\n\r\n            }\r\n\r\n            get();\r\n        }\r\n    }, [mode])\r\n\r\n\r\n\r\n    const saveData = async (e) => {\r\n        if (from.title === \"\" || from.type === \"\") {\r\n            return toast(\"fill the blank\", \"error\")\r\n        }\r\n\r\n        try {\r\n            const url = process.env.REACT_APP_API_URL + \"/account/add\";\r\n            const token = Cookies.get(\"token\");\r\n\r\n            const req = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(!mode ? { ...from, token } : { ...from, token, update: true, id: id })\r\n            })\r\n\r\n            const res = await req.json();\r\n\r\n            if (req.status !== 200 || res.err) {\r\n                return toast(res.err, 'error');\r\n            }\r\n\r\n            if (mode) {\r\n                return toast(\"Account updated successfully\", 'success')\r\n            }\r\n\r\n\r\n            toast(\"Account created successfully\", 'success')\r\n            navigate(\"/admin/account\")\r\n            clearData()\r\n            return;\r\n\r\n\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n            toast(\"Something went wrong\", \"error\")\r\n        }\r\n\r\n    }\r\n\r\n    const clearData = (e) => {\r\n        setForm({\r\n            title: '', accountName: '', accountNumber: '', ifscCode: '',\r\n            bankName: '', openingBalance: '', type: ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Nav title={\"Account\"} />\r\n            <main id='main'>\r\n                <SideNav />\r\n                <div className='content__body'>\r\n                    <div className='content__body__main bg-white '>\r\n                        <div className='flex justify-between gap-6  flex-col lg:flex-row'>\r\n                            <div className='w-full'>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Title</p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...from, title: e.target.value })} value={from.title} />\r\n                                </div>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Account Holder Name (If Bank)</p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...from, accountName: e.target.value })} value={from.accountName} />\r\n                                </div>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Account Number (If Bank)</p>\r\n                                    <input type=\"number\" onChange={(e) => setForm({ ...from, accountNumber: e.target.value })} value={from.accountNumber} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='w-full'>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>IFSC Code (If Bank)</p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...from, ifscCode: e.target.value })} value={from.ifscCode} />\r\n                                </div>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Bank Name (If Bank)</p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...from, bankName: e.target.value })} value={from.bankName} />\r\n                                </div>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Opening Balance</p>\r\n                                    <input type=\"text\" onChange={(e) => setForm({ ...from, openingBalance: e.target.value })} value={from.openingBalance} />\r\n                                </div>\r\n                                <div className='ml-2 pt-2 '>\r\n                                    <p className='pb-2'>Type</p>\r\n                                    <select onChange={(e) => setForm({ ...from, type: e.target.value })} value={from.type} >\r\n                                        <option value={\"\"}>\r\n                                            --Select--\r\n                                        </option>\r\n                                        <option value=\"cash\">Cash</option>\r\n                                        <option value=\"bank\">Bank</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex justify-center pt-9 mb-6'>\r\n                            <button\r\n                                className='p-2 flex rounded-sm bg-green-500 text-white items-center gap-2'\r\n                                onClick={saveData}>\r\n                                <FaRegCheckCircle />\r\n                                {mode ? \"Update\" : \"Save\"}\r\n                            </button>\r\n\r\n                            <button className='p-2 flex rounded-sm ml-4 bg-blue-500 text-white items-center gap-2'\r\n                                onClick={clearData}>\r\n                                <LuRefreshCcw />\r\n                                Reset\r\n                            </button>\r\n                            {/* <div className=\"flex rounded-sm ml-4 bg-gray-500 text-white\">\r\n                                 <IoMdArrowRoundBack />\r\n                                 <button className='p-2'>Back</button>\r\n                             </div>*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddAccount"],"names":["_ref","mode","toast","useMyToaster","id","useParams","from","setForm","useState","title","accountName","accountNumber","ifscCode","bankName","openingBalance","type","details","navigate","useNavigate","useEffect","async","cookie","Cookies","get","req","fetch","process","method","headers","body","JSON","stringify","token","res","json","_objectSpread","data","clearData","e","_jsxs","_Fragment","children","_jsx","Nav","SideNav","className","onChange","target","value","onClick","url","update","status","err","error","console","log","FaRegCheckCircle","LuRefreshCcw"],"sourceRoot":""}