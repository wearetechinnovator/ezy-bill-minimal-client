"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7354],{2331:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(53435),l=t(70579);const i=e=>{let{activePage:s,totalData:t,dataLimit:i,setActivePage:n}=e;const d=Math.ceil(t/i);if(!(i>t))return(0,l.jsxs)("div",{className:"flex justify-end items-center space-x-2",children:[s>1&&(0,l.jsx)("div",{onClick:()=>n(s-1),className:"paginate__button__back",children:(0,l.jsx)(a.F.PREV_PAGE_ARROW,{})}),(()=>{const e=[];if(d<=5)for(let s=1;s<=d;s++)e.push(s);else{e.push(1),s>3&&e.push("...");const t=Math.max(2,s-1),a=Math.min(d-1,s+1);for(let s=t;s<=a;s++)e.push(s);s<d-2&&e.push("..."),e.push(d)}return e})().map(((e,t)=>"..."===e?(0,l.jsx)("div",{className:"px-2",children:"..."},"ellipsis-".concat(t)):(0,l.jsx)("div",{onClick:()=>n(e),className:"paginate__button__number ".concat(s===e?"active__page":""),children:e},e))),s<d&&(0,l.jsx)("div",{onClick:()=>n(s+1),className:"paginate__button__next",children:(0,l.jsx)(a.F.NEXT_PAGE_ARROW,{})})]})}},88918:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(89379),l=t(1880);const i=()=>({getApiData:async(e,s,t)=>{let i={token:l.A.get("token")};s&&(i=(0,a.A)((0,a.A)({},i),{},{id:s})),t&&(i=(0,a.A)((0,a.A)({},i),{},{barCode:t}));try{const s="https://ezy-bill-api.tisindia.net/api/v1"+"/".concat(e,"/get"),t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await t.json()}catch(n){return n}}})},84973:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(65043),l=t(75206),i=t(86319),n=t(53435),d=t(88918),c=t(66580),r=t(70579);const o=()=>{var e;const{getApiData:s}=(0,d.A)(),{id:t}=(0,c.g)(),[l,i]=(0,a.useState)(),o=(0,c.Zp)();return(0,a.useEffect)((()=>{(async()=>{const e=await s("party",t);i(e.data)})()}),[]),(0,r.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,r.jsxs)("div",{className:"content__body__main w-full",children:[(0,r.jsxs)("div",{className:"details__header",children:[(0,r.jsxs)("p",{className:"font-bold flex items-center gap-1",children:[(0,r.jsx)(n.F.INVOICE,{}),"General Details"]}),(0,r.jsx)(n.F.PENCIL,{className:"pencil",onClick:()=>o("/admin/party/edit/".concat(t))})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"flex  gap-2 pl-4",children:[(0,r.jsxs)("div",{className:"w-full flex flex-col justify-between gap-5 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Party Name"}),(0,r.jsx)("p",{children:null===l||void 0===l?void 0:l.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Mobile Number"}),(0,r.jsx)("p",{children:null===l||void 0===l?void 0:l.contactNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Email"}),(0,r.jsx)("p",{children:(null===l||void 0===l?void 0:l.email)||"--"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Opening Balance"}),(0,r.jsxs)("p",{className:"flex items-center gap-1",children:[(0,r.jsx)(n.F.RUPES,{})," ",(null===l||void 0===l?void 0:l.openingBalance)||0]})]})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col justify-start gap-5 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Party Type"}),(0,r.jsx)("p",{children:null===l||void 0===l?void 0:l.type})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Party Category"}),(0,r.jsx)("p",{children:(null===l||void 0===l||null===(e=l.partyCategory)||void 0===e?void 0:e.name)||"--"})]})]})]})]}),(0,r.jsxs)("div",{className:"content__body__main w-full ",children:[(0,r.jsxs)("div",{className:"details__header",children:[(0,r.jsxs)("p",{className:"font-bold flex items-center gap-1",children:[(0,r.jsx)(n.F.BUSINESS,{}),"Buisness Details"]}),(0,r.jsx)(n.F.PENCIL,{className:"pencil",onClick:()=>o("/admin/party/edit/".concat(t))})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"pl-4",children:[(0,r.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("p",{className:"text-gray-400",children:"GSTIN"}),(0,r.jsx)("p",{children:(null===l||void 0===l?void 0:l.gst)||"--"})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("p",{className:"text-gray-400",children:"PAN Number"}),(0,r.jsx)("p",{children:(null===l||void 0===l?void 0:l.pan)||"--"})]})]}),(0,r.jsxs)("div",{className:"my-5",children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Billing Address"}),(0,r.jsx)("p",{children:null===l||void 0===l?void 0:l.billingAddress})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Shipping Address"}),(0,r.jsx)("p",{children:null===l||void 0===l?void 0:l.shippingAddress})]})]})]})]})};var x=t(9435),h=t(1880);const p=e=>{let{partyId:s}=e;const t=(0,x.A)(),[l,i]=(0,a.useState)([]),[d,c]=(0,a.useState)(1),[o,p]=(0,a.useState)(10),[j,m]=(0,a.useState)(),u=async e=>{try{const a="https://ezy-bill-api.tisindia.net/api/v1"+"/party/log?page=".concat(d,"&limit=").concat(o),l=h.A.get("token"),n=await fetch(a,{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify({token:l,partyId:s})}),c=await n.json();if(200!==n.status||!1===c.get)return t(c.err,"error");if(m(c.totalData),!e||""===e)return void i([...c.data]);const r=c.data.filter(((s,t)=>s.type.toLowerCase()===e.toLowerCase()));i([...r])}catch(a){return console.log(a),t("Something went wrong","error")}};return(0,a.useEffect)((()=>{u()}),[o,d]),(0,r.jsxs)("div",{className:"content__body__main",children:[(0,r.jsx)("div",{className:"details__header",children:(0,r.jsxs)("p",{className:"font-bold flex items-center gap-1",children:[(0,r.jsx)(n.F.INVOICE,{}),"Logs"]})}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{children:(0,r.jsxs)("select",{className:"w-[200px]",onChange:e=>u(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Select Transaction Type"}),["Sales","Quotation","Proforma","Purchase","Creditnote","Debitnote","Deliery Chalan","Purchase Order","Sales Return","Purchase Return","Paymentin","Paymentout"].map(((e,s)=>(0,r.jsx)("option",{value:e.toLowerCase(),children:e},s)))]})}),(0,r.jsx)("div",{className:"table__responsive",children:(0,r.jsxs)("table",{className:"w-full mt-5 border",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-2",children:"Date"}),(0,r.jsx)("td",{children:"Transaction Type"}),(0,r.jsx)("td",{children:"Transaction Number"}),(0,r.jsx)("td",{children:"Amount"}),(0,r.jsx)("td",{align:"center",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"text-xs",children:l&&l.map(((e,s)=>{var t,a,l,i,d,c,o,x,h,p;return(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"p-2",children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)("td",{children:e.type}),(0,r.jsx)("td",{children:(null===(t=e.invoiceId)||void 0===t?void 0:t.quotationNumber)||(null===(a=e.invoiceId)||void 0===a?void 0:a.salesInvoiceNumber)||(null===(l=e.invoiceId)||void 0===l?void 0:l.proformaNumber)||(null===(i=e.invoiceId)||void 0===i?void 0:i.purchaseInvoiceNumber)||(null===(d=e.invoiceId)||void 0===d?void 0:d.purchaseReturnNumber)||(null===(c=e.invoiceId)||void 0===c?void 0:c.poNumber)||(null===(o=e.invoiceId)||void 0===o?void 0:o.paymentInNumber)}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.F.RUPES,{})," ",e.amount]})}),(0,r.jsx)("td",{align:"center",children:(0,r.jsx)("span",{className:"text-[10px] rounded-full px-1 bg-green-900 text-white",children:"0"==(null===(x=e.invoiceId)||void 0===x?void 0:x.paymentStatus)?"Not Paid":"1"==(null===(h=e.invoiceId)||void 0===h?void 0:h.paymentStatus)?"Paid":"2"==(null===(p=e.invoiceId)||void 0===p?void 0:p.paymentStatus)?"Pending":"--"})})]},s)}))})]})}),(0,r.jsxs)("div",{className:"flex justify-end mt-3 w-auto",children:[d>1?(0,r.jsx)("div",{onClick:()=>c(d-1),className:"paginate__button__back",children:(0,r.jsx)(n.F.PREV_PAGE_ARROW,{})}):null,Array.from({length:Math.ceil(j/o)}).map(((e,s)=>(0,r.jsx)("div",{onClick:()=>c(s+1),className:"paginate__button__number",style:d===s+1?{border:"1px solid blue"}:{},children:s+1}))),j/o>d?(0,r.jsx)("div",{onClick:()=>c(d+1),className:"paginate__button__next",children:(0,r.jsx)(n.F.NEXT_PAGE_ARROW,{})}):null]})]})};var j=t(93437);const m=()=>{const{id:e}=(0,c.g)(),s=(0,c.zy)(),t=(0,c.Zp)(),a=new URLSearchParams(s.search).get("tab")||"profile",d=e=>{t("?tab=".concat(e.toLowerCase()))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{title:"Party Details"}),(0,r.jsxs)("main",{id:"main",children:[(0,r.jsx)(i.A,{}),(0,r.jsxs)("div",{className:"content__body",children:[(0,r.jsxs)("div",{className:"party__details__header",children:[(0,r.jsxs)("button",{className:"profile"===a?"active":"",onClick:()=>d("profile"),children:[(0,r.jsx)(n.F.USER,{})," Profile"]}),(0,r.jsxs)("button",{className:"ledger"===a?"active":"",onClick:()=>d("ledger"),children:[(0,r.jsx)(n.F.BOOK,{})," Ledger"]}),(0,r.jsxs)("button",{className:"logs"===a?"active":"",onClick:()=>d("logs"),children:[(0,r.jsx)(n.F.FILE,{})," Logs"]})]}),"profile"===a?(0,r.jsx)(o,{}):"ledger"===a?(0,r.jsx)(j.default,{partyId:e}):"logs"===a?(0,r.jsx)(p,{partyId:e}):void 0]})]})]})}},93437:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(65043),l=t(83003),i=t(88918),n=t(1880),d=t(2331),c=t(70579);const r=e=>{var s,t;let{partyId:r}=e;const o=(0,l.d4)((e=>e.userDetail)),x=null===o||void 0===o||null===(s=o.companies)||void 0===s?void 0:s.filter(((e,s)=>e._id===o.activeCompany)),[h,p]=(0,a.useState)(""),[j,m]=(0,a.useState)(null),{getApiData:u}=(0,i.A)(),[v,N]=(0,a.useState)([]),[g,y]=(0,a.useState)(1),[b,f]=(0,a.useState)(50),[_,w]=(0,a.useState)();return(0,a.useEffect)((()=>{if(x&&(null===x||void 0===x?void 0:x.length)>0){var e;let s=(null===(e=x[0])||void 0===e?void 0:e.name)||"";s.length>20&&(s=s.slice(0,20)+"..."),p(s)}}),[x]),(0,a.useEffect)((()=>{(async()=>{const e=await u("party",r);m(e.data)})()}),[]),(0,a.useEffect)((()=>{(async()=>{const e="https://ezy-bill-api.tisindia.net/api/v1"+"/party/ladger?page=".concat(g,"&limit=").concat(b),s=n.A.get("token"),t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partyId:r,token:s})}),a=await t.json();N([...a.data]),w(a.totalData),console.log(a)})()}),[]),(0,c.jsxs)("div",{className:"content__body__main  relative",children:[(0,c.jsx)("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\r text-2xl font-semibold text-blue-400 \r drop-shadow-[0_0_8px_rgba(255,235,0,0.8)]",children:"Coming Soon"}),(0,c.jsxs)("div",{className:"blur-sm select-none",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-bold",children:h}),(0,c.jsxs)("p",{className:"text-xs text-gray-400",children:["Phone: ",x&&(null===(t=x[0])||void 0===t?void 0:t.phone)]})]}),(0,c.jsx)("p",{className:"font-bold text-gray-400",children:"Party Ladger"})]}),(0,c.jsx)("hr",{}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsx)("p",{className:"text-xs text-gray-400",children:"To,"}),(0,c.jsx)("p",{className:"font-bold text-xs",children:null===j||void 0===j?void 0:j.name}),(0,c.jsxs)("p",{className:"text-xs text-gray-400",children:["Phone: ",(null===j||void 0===j?void 0:j.contactNumber)||"--"]})]}),(0,c.jsxs)("div",{className:"w-[200px] h-[90px] rounded border p-2",children:[(0,c.jsx)("p",{className:"text-xs text-gray-400 text-right border-b w-full pb-1",children:"Date - Date"}),(0,c.jsx)("p",{className:"text-xs text-gray-400 text-right",children:"Total Receivable"}),(0,c.jsx)("p",{className:"font-bold text-right",children:"6000"})]})]}),(0,c.jsx)("div",{className:"table__responsive mb-3",children:(0,c.jsxs)("table",{className:"w-full border mt-5",children:[(0,c.jsx)("thead",{className:"bg-gray-100",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{className:"p-2",children:"Date"}),(0,c.jsx)("td",{children:"Voucher"}),(0,c.jsx)("td",{children:"Transaction No."}),(0,c.jsx)("td",{children:"Credit"}),(0,c.jsx)("td",{children:"Debit"}),(0,c.jsx)("td",{children:"Balance"})]})}),(0,c.jsx)("tbody",{className:"text-xs",children:v.map(((e,s)=>(0,c.jsxs)("tr",{className:"border-b",children:[(0,c.jsx)("td",{className:"p-2",children:new Date(e.date).toLocaleDateString()}),(0,c.jsx)("td",{children:e.voucher}),(0,c.jsx)("td",{children:e.transactionNo}),(0,c.jsx)("td",{children:e.credit}),(0,c.jsx)("td",{children:e.debit}),(0,c.jsx)("td",{children:e.balance})]})))})]})}),(0,c.jsx)(d.A,{activePage:g,dataLimit:b,setActivePage:y,totalData:_})]})]})}}}]);
//# sourceMappingURL=7354.ca8a71de.chunk.js.map