"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2396],{12396:(e,t,s)=>{s.r(t),s.d(t,{CategoryComponent:()=>p,default:()=>u});var a=s(89379),i=s(65043),n=s(75206),l=s(86319),r=(s(6839),s(9435)),c=s(35543),d=s(66580),o=s(1880),x=s(53435),h=s(70579);const p=e=>{let{mode:t,save:s}=e;const n=(0,r.A)(),[l,p]=((0,i.useRef)(null),(0,i.useState)({title:"",tax:"",hsn:"",type:"",details:""})),[u,m]=(0,i.useState)([]),{id:j}=(0,d.g)(),y=(0,r.A)(),g=(0,d.Zp)();(0,i.useEffect)((()=>{if(t){(async()=>{const e=o.A.get("token"),t=await fetch("https://ezy-bill-api.tisindia.net/api/v1/category/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,id:j})}),s=await t.json();p((0,a.A)((0,a.A)({},l),s.data))})()}}),[t]),(0,i.useEffect)((()=>{(async()=>{const e=await fetch("https://ezy-bill-api.tisindia.net/api/v1/tax/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o.A.get("token")})}),t=(await e.json()).data.map(((e,t)=>{let{_id:s,title:a}=e;return{label:a,value:s}}));m([...t]),console.log(t)})()}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"content__body__main bg-white ",children:[(0,h.jsxs)("div",{className:"  flex justify-between  gap-5 flex-col lg:flex-row",children:[(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"mb-2",children:["Title ",(0,h.jsx)("span",{className:"required__text",children:"*"})]}),(0,h.jsx)("input",{type:"text",onChange:e=>p((0,a.A)((0,a.A)({},l),{},{title:e.target.value})),value:l.title})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"ml-1 mb-2 mt-2",children:["Select Tax ",(0,h.jsx)("span",{className:"required__text",children:"*"})]}),(0,h.jsx)(c.A,{className:"w-full",data:u,onChange:e=>p((0,a.A)((0,a.A)({},l),{},{tax:e})),value:l.tax})]})]}),(0,h.jsxs)("div",{className:"w-full pt-1",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"mb-2 ml-1",children:"HSN/SAC"}),(0,h.jsx)("input",{type:"text",onChange:e=>p((0,a.A)((0,a.A)({},l),{},{hsn:e.target.value})),value:l.hsn})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"mb-2 mt-2 ml-1",children:["Type ",(0,h.jsx)("span",{className:"required__text",children:"*"})]}),(0,h.jsxs)("select",{onChange:e=>p((0,a.A)((0,a.A)({},l),{},{type:e.target.value})),value:l.type,children:[(0,h.jsx)("option",{value:"",children:"--select--"}),(0,h.jsx)("option",{value:"Product",children:"Goods"}),(0,h.jsx)("option",{value:"Service",children:"Service"})]})]})]})]}),(0,h.jsxs)("div",{className:"flex justify-center pt-9 mb-6",children:[(0,h.jsxs)("div",{className:"flex rounded-sm bg-green-500 text-white",children:[(0,h.jsx)(x.F.CHECK,{className:"mt-3 ml-2"}),(0,h.jsx)("button",{className:"p-2",onClick:async e=>{if(""===l.title)return n("Title is required","error");if(""===l.tax)return n("Tax is required","error");if(""===l.type)return n("Type is required","error");try{const e="https://ezy-bill-api.tisindia.net/api/v1/category/add",i=o.A.get("token"),n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t?(0,a.A)((0,a.A)({},l),{},{token:i,update:!0,id:j}):(0,a.A)((0,a.A)({},l),{},{token:i}))}),r=await n.json();return 200!==n.status||r.err?y(r.err,"error"):(t||p({title:"",tax:"",hsn:"",type:"",details:""}),y(t?"Category update success":"Category create success","success"),s?void s(!0):g("/admin/item-category"))}catch(i){return y("Something went wrong","error")}},children:t?"Update":"Save"})]}),(0,h.jsxs)("div",{className:"flex rounded-sm ml-4 bg-blue-500 text-white",children:[(0,h.jsx)(x.F.RESET,{className:"mt-3 ml-2"}),(0,h.jsx)("button",{className:"p-2",onClick:e=>{p({title:"",tax:"",hsn:"",type:"",details:""})},children:"Reset"})]})]})]})})},u=e=>{let{mode:t}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.A,{title:t?"Update Category":"Add Category"}),(0,h.jsxs)("main",{id:"main",children:[(0,h.jsx)(l.A,{}),(0,h.jsx)("div",{className:"content__body",children:(0,h.jsx)(p,{mode:t})})]})]})}}}]);
//# sourceMappingURL=2396.e11598dc.chunk.js.map