"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7470],{88918:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),s=a(1880);const i=()=>({getApiData:async(e,t,a)=>{let i={token:s.A.get("token")};t&&(i=(0,n.A)((0,n.A)({},i),{},{id:t})),a&&(i=(0,n.A)((0,n.A)({},i),{},{barCode:a}));try{const t="https://ezy-bill-api.tisindia.net/api/v1"+"/".concat(e,"/get"),a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await a.json()}catch(c){return c}}})},67470:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var n=a(89379),s=a(65043),i=a(75206),c=a(86319),l=a(35543),o=a(60184),r=a(89698),d=a(9435),u=a(88918),m=a(1880),p=a(66580),h=a(70579);const x=e=>{let{mode:t}=e;const{getApiData:a}=(0,u.A)(),[x,j]=(0,s.useState)({transactionType:"",purpose:"",transactionNumber:"",transactionDate:"",paymentMode:"",account:"",amount:"",note:""}),[v,y]=(0,s.useState)([]),A=(0,d.A)(),{id:b}=(0,p.g)(),g=(0,p.Zp)();(0,s.useEffect)((()=>{if(t){(async()=>{const e=m.A.get("token"),t=await fetch("https://ezy-bill-api.tisindia.net/api/v1/other-transaction/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,id:b})}),a=await t.json();console.log(a),j((0,n.A)((0,n.A)({},x),a.data))})()}}),[t]),(0,s.useEffect)((()=>{(async()=>{{const e=(await a("account")).data.map((e=>({label:e.title,value:e._id})));y([...e])}})()}),[]);const N=()=>{j({transactionType:"",purpose:"",transactionNumber:"",transactionDate:"",paymentMode:"",account:"",amount:"",note:""})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{title:t?"Edit transations":"Add transations"}),(0,h.jsxs)("main",{id:"main",children:[(0,h.jsx)(c.A,{}),(0,h.jsx)("div",{className:"content__body ",children:(0,h.jsxs)("div",{className:"content__body__main bg-white",children:[(0,h.jsxs)("div",{className:"flex justify-between gap-4 flex-col lg:flex-row",children:[(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1",children:" Select Transaction Type"}),(0,h.jsxs)("select",{onChange:e=>{j((0,n.A)((0,n.A)({},x),{},{transactionType:e.target.value}))},value:x.transactionType,children:[(0,h.jsx)("option",{value:"",children:"--Select Type--"}),(0,h.jsx)("option",{value:"income",children:"Income"}),(0,h.jsx)("option",{value:"expense",children:"Expense"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Purpose"}),(0,h.jsx)("input",{type:"text",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{purpose:e.target.value})),value:x.purpose})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Transaction Number"}),(0,h.jsx)("input",{type:"number",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{transactionNumber:e.target.value})),value:x.transactionNumber})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Transaction Date"}),(0,h.jsx)("input",{type:"date",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{transactionDate:e.target.value})),value:x.transactionDate})]})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1",children:"Payment Mode"}),(0,h.jsxs)("select",{onChange:e=>{j((0,n.A)((0,n.A)({},x),{},{paymentMode:e.target.value}))},value:x.paymentMode,children:[(0,h.jsx)("option",{value:"",children:"--Select Type--"}),(0,h.jsx)("option",{value:"cash",children:"Cash"}),(0,h.jsx)("option",{value:"bank",children:"Bank"}),(0,h.jsx)("option",{value:"cheque",children:"Cheque"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Account"}),(0,h.jsx)(l.A,{className:"w-full",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{account:e})),data:v,value:x.account})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Amount"}),(0,h.jsx)("input",{type:"number",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{amount:e.target.value})),value:x.amount})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"ml-1 mb-1 mt-2",children:"Note/Remark"}),(0,h.jsx)("input",{type:"text",onChange:e=>j((0,n.A)((0,n.A)({},x),{},{note:e.target.value})),value:x.note})]})]})]}),(0,h.jsxs)("div",{className:"flex justify-center pt-9 mb-6",children:[(0,h.jsxs)("div",{className:"flex rounded-sm bg-green-500 text-white",children:[(0,h.jsx)(o.yjt,{className:"mt-3 ml-2"}),(0,h.jsx)("button",{className:"p-2",onClick:async e=>{if(""===x.transactionType||""===x.purpose||""===x.transactionNumber||""===x.transactionDate||""===x.paymentMode||""===x.account||""===x.amount)return A("fill the blank","error");try{const e="https://ezy-bill-api.tisindia.net/api/v1/other-transaction/add",a=m.A.get("token"),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t?(0,n.A)((0,n.A)({},x),{},{token:a,update:!0,id:b}):(0,n.A)((0,n.A)({},x),{},{token:a}))}),i=await s.json();return 200!==s.status||i.err?A(i.err,"error"):t?A("Transaction update successfully","success"):(N(),A("Transaction add successfully","success"),void g("/admin/other-transaction"))}catch(a){return console.log(a),A("Something went wrong","error")}},children:t?"Update":"Save"})]}),(0,h.jsxs)("div",{className:"flex rounded-sm ml-4 bg-blue-500 text-white",children:[(0,h.jsx)(r.A1o,{className:"mt-3 ml-2"}),(0,h.jsx)("button",{className:"p-2",onClick:N,children:"Reset"})]})]})]})})]})]})}}}]);
//# sourceMappingURL=7470.cd93bc34.chunk.js.map