{"version":3,"file":"static/js/2396.e11598dc.chunk.js","mappings":"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","sources":["pages/Item/CategoryAdd.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav'\r\nimport { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport { SelectPicker } from 'rsuite';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport { Icons } from '../../helper/icons';\r\n\r\n\r\nconst CategoryAdd = ({ mode }) => {\r\n\r\n  return (\r\n    <>\r\n      <Nav title={!mode ? \"Add Category\" : \"Update Category\"} />\r\n      <main id='main'>\r\n        <SideNav />\r\n        <div className='content__body'>\r\n          <CategoryComponent mode={mode} />\r\n        </div>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nconst CategoryComponent = ({ mode, save }) => {\r\n  const accountvalidation = useMyToaster();\r\n  const editorRef = useRef(null);\r\n  const [form, setForm] = useState({ title: '', tax: '', hsn: '', type: '', details: \"\" })\r\n  const [taxData, setTaxData] = useState([]);\r\n  const { id } = useParams();\r\n  const toast = useMyToaster();\r\n  const navigate = useNavigate();\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (mode) {\r\n      const get = async () => {\r\n        const url = process.env.REACT_APP_API_URL + \"/category/get\";\r\n        const cookie = Cookies.get(\"token\");\r\n\r\n        const req = await fetch(url, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": 'application/json'\r\n          },\r\n          body: JSON.stringify({ token: cookie, id: id })\r\n        })\r\n        const res = await req.json();\r\n        setForm({ ...form, ...res.data });\r\n      }\r\n\r\n      get();\r\n    }\r\n  }, [mode])\r\n\r\n  useEffect(() => {\r\n    const getTax = async () => {\r\n      const url = process.env.REACT_APP_API_URL + `/tax/get`;\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": 'application/json'\r\n        },\r\n        body: JSON.stringify({ token: Cookies.get('token') })\r\n      });\r\n      const res = await req.json();\r\n      const tempTaxData = res.data.map(({ _id, title }, _) => ({ label: title, value: _id }));\r\n      setTaxData([...tempTaxData]);\r\n      console.log(tempTaxData)\r\n    }\r\n\r\n    getTax();\r\n\r\n  }, [])\r\n\r\n\r\n  const savebutton = async (e) => {\r\n    if (form.title === \"\") {\r\n      return accountvalidation(\"Title is required\", \"error\");\r\n    } else if (form.tax === \"\") {\r\n      return accountvalidation(\"Tax is required\", \"error\");\r\n    } else if (form.type === \"\") {\r\n      return accountvalidation(\"Type is required\", \"error\");\r\n    }\r\n\r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + \"/category/add\";\r\n      const token = Cookies.get(\"token\");\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(!mode ? { ...form, token } : { ...form, token, update: true, id: id })\r\n      })\r\n      const res = await req.json();\r\n      if (req.status !== 200 || res.err) {\r\n        return toast(res.err, 'error');\r\n      }\r\n\r\n      if (!mode) {\r\n        setForm({ title: '', tax: '', hsn: '', type: '', details: '' });\r\n      }\r\n\r\n      toast(!mode ? \"Category create success\" : \"Category update success\", 'success');\r\n\r\n      if (save) {\r\n        save(true); // for close sidebar in MySelect2\r\n        return;\r\n      } else {\r\n        return navigate(\"/admin/item-category\")\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      return toast(\"Something went wrong\", \"error\")\r\n    }\r\n\r\n  }\r\n\r\n  const fromvalueclear = (e) => {\r\n    setForm({\r\n      title: '', tax: '', hsn: '', type: '', details: ''\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <div className='content__body__main bg-white '>\r\n        <div className='  flex justify-between  gap-5 flex-col lg:flex-row'>\r\n          <div className='w-full'>\r\n            <div >\r\n              <p className='mb-2'>Title <span className='required__text'>*</span></p>\r\n              <input type='text' onChange={(e) => setForm({ ...form, title: e.target.value })} value={form.title} />\r\n            </div>\r\n            <div>\r\n              <p className='ml-1 mb-2 mt-2'>Select Tax <span className='required__text'>*</span></p>\r\n              <SelectPicker className='w-full'\r\n                data={taxData}\r\n                onChange={(v) => setForm({ ...form, tax: v })}\r\n                value={form.tax}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className='w-full pt-1'>\r\n            <div>\r\n              <p className='mb-2 ml-1'>HSN/SAC</p>\r\n              <input type='text' onChange={(e) => setForm({ ...form, hsn: e.target.value })} value={form.hsn} />\r\n            </div>\r\n            <div>\r\n              <p className='mb-2 mt-2 ml-1'>Type <span className='required__text'>*</span></p>\r\n              <select onChange={(e) => setForm({ ...form, type: e.target.value })} value={form.type}>\r\n                <option value={\"\"}>\r\n                  --select--\r\n                </option>\r\n                <option value={\"Product\"}>\r\n                  Goods\r\n                </option>\r\n                <option value={\"Service\"}>\r\n                  Service\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        {/* <div className='mt-3 '>\r\n          <p className='ml-2 pb-2'>Details</p>\r\n          <Editor\r\n            onEditorChange={(v, editor) => {\r\n              setForm({ ...form, details: editor.getContent() })\r\n            }}\r\n            value={form.details}\r\n            apiKey='765rof3c4qgyk8u59xk0o3vvhvji0y156uwtbjgezhnbcct7'\r\n            onInit={(_evt, editor) => editorRef.current = editor}\r\n            init={{\r\n              height: 300,\r\n              menubar: false,\r\n              plugins: [\r\n                'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',\r\n                'anchor', 'searchreplace', 'visualblocks', 'code', 'fullscreen',\r\n                'insertdatetime', 'media', 'table', 'code', 'help', 'wordcount'\r\n              ],\r\n              toolbar: 'undo redo | blocks | ' +\r\n                'bold italic forecolor | alignleft aligncenter ' +\r\n                'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                'removeformat | help',\r\n              content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\r\n            }}\r\n          />\r\n        </div> */}\r\n        <div className='flex justify-center pt-9 mb-6'>\r\n          <div className='flex rounded-sm bg-green-500 text-white'>\r\n            <Icons.CHECK className='mt-3 ml-2' />\r\n            <button className='p-2' onClick={savebutton}>{!mode ? \"Save\" : \"Update\"}</button>\r\n          </div>\r\n          <div className='flex rounded-sm ml-4 bg-blue-500 text-white'>\r\n            <Icons.RESET className='mt-3 ml-2' />\r\n            <button className='p-2' onClick={fromvalueclear}>Reset</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport { CategoryComponent }\r\nexport default CategoryAdd"],"names":["CategoryComponent","_ref2","mode","save","accountvalidation","useMyToaster","form","setForm","useRef","useState","title","tax","hsn","type","details","taxData","setTaxData","id","useParams","toast","navigate","useNavigate","useEffect","async","cookie","Cookies","get","req","fetch","process","method","headers","body","JSON","stringify","token","res","json","_objectSpread","data","tempTaxData","map","_ref3","_","_id","label","value","console","log","getTax","_jsx","_Fragment","children","_jsxs","className","onChange","e","target","SelectPicker","v","Icons","CHECK","onClick","url","update","status","err","error","RESET","_ref","Nav","SideNav"],"sourceRoot":""}