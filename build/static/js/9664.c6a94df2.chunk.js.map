{"version":3,"file":"static/js/9664.c6a94df2.chunk.js","mappings":"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","sources":["pages/paymentin/AddPayment.jsx","../node_modules/rsuite/esm/Animation/Slide.js","../node_modules/rsuite/esm/internals/utils/warnOnce.js","../node_modules/rsuite/esm/internals/utils/deprecateComponent.js","../node_modules/rsuite/esm/Drawer/DrawerBody.js","../node_modules/rsuite/esm/Drawer/DrawerHeader.js","../node_modules/rsuite/esm/Drawer/DrawerActions.js","../node_modules/rsuite/esm/Drawer/DrawerFooter.js","../node_modules/rsuite/esm/Drawer/DrawerTitle.js","../node_modules/rsuite/esm/Drawer/Drawer.js","../node_modules/rsuite/esm/Drawer/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav';\r\nimport { SelectPicker } from 'rsuite';\r\nimport useApi from '../../hooks/useApi';\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport Cookies from 'js-cookie';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport MySelect2 from '../../components/MySelect2';\r\nimport { Icons } from '../../helper/icons';\r\n\r\n\r\n\r\n// --- PAYMENT IN ---\r\nconst AddPayment = ({ mode }) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <Nav title={\"Add Payment\"} />\r\n      <main id='main'>\r\n        <SideNav />\r\n        <div className='content__body'>\r\n          <AddPaymentInComponent mode={mode} />\r\n        </div>\r\n      </main>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nconst AddPaymentInComponent = ({ mode, partyId, invoiceNumber, due }) => {\r\n  const navigate = useNavigate();\r\n  const { getApiData } = useApi();\r\n  const toast = useMyToaster();\r\n  const { id } = useParams();\r\n  const [formData, setFormData] = useState({\r\n    party: partyId || \"\", paymentInNumber: \"\", paymentInDate: \"\", paymentMode: \"\", account: \"\",\r\n    amount: \"\", details: \"\", invoiceId: ''\r\n  })\r\n  // const [dueAmount, setDueAmount] = useState(null);\r\n\r\n  // Store party\r\n  // const [party, setParty] = useState([]);\r\n  // Store account\r\n  const [account, setAccount] = useState([]);\r\n  // Store invoice number\r\n  const [invoice, setInvoice] = useState([]);\r\n  // invoice data\r\n  const [invoiceData, setInvoiceData] = useState([]);\r\n  let [checkedInv, setCheckedInv] = useState([]);\r\n  let [tempAmount, setTempAmount] = useState(0);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (formData.amount) {\r\n      let totalSelected = 0;\r\n      for (const item of checkedInv) {\r\n        totalSelected += parseInt(item.dueAmount, 10);\r\n      }\r\n      const remaining = parseInt(formData.amount, 10) - totalSelected;\r\n\r\n      setTempAmount(remaining);\r\n    }\r\n  }, [formData.amount, checkedInv]);\r\n\r\n\r\n  // Get invoice\r\n  useEffect(() => {\r\n    const getInvoice = async () => {\r\n      try {\r\n        const url = process.env.REACT_APP_API_URL + \"/salesinvoice/get\";\r\n        const cookie = Cookies.get(\"token\");\r\n\r\n        const req = await fetch(url, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": 'application/json'\r\n          },\r\n          body: JSON.stringify({ token: cookie, invoice: true, party: formData.party })\r\n        })\r\n        const res = await req.json();\r\n        const inv = res.data.map((inv) => ({\r\n          value: inv.salesInvoiceNumber, label: inv.salesInvoiceNumber,\r\n          due: inv.dueAmount\r\n        }));\r\n        console.log(res.data);\r\n        setInvoiceData([...res.data]);\r\n        setInvoice([...inv])\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n        return toast(\"Something went wrong\", \"error\");\r\n      }\r\n    }\r\n\r\n    getInvoice();\r\n\r\n  }, [formData.party])\r\n\r\n\r\n\r\n  // Get data for update mode\r\n  useEffect(() => {\r\n    if (mode) {\r\n      const get = async () => {\r\n        const res = await getApiData(\"paymentin\", id);\r\n        setFormData({ ...formData, ...res.data, paymentInDate: res.data.paymentInDate.split('T')[0] });\r\n      }\r\n      get();\r\n    }\r\n  }, [mode])\r\n\r\n\r\n  useEffect(() => {\r\n    const apiData = async () => {\r\n      // {\r\n      //   const data = await getApiData(\"party\");\r\n      //   const party = data.data.map(d => ({ label: d.name, value: d._id }));\r\n      //   setParty([...party]);\r\n      // }\r\n      {\r\n        const data = await getApiData(\"account\");\r\n        const account = data.data.map(d => ({ label: d.title, value: d._id }));\r\n        setAccount([...account])\r\n      }\r\n    }\r\n\r\n    apiData();\r\n  }, [])\r\n\r\n\r\n\r\n  const savePayment = async () => {\r\n    if (formData.party === \"\") {\r\n      return toast(\"Please select a party\", \"error\");\r\n    } else if (formData.paymentInNumber === \"\") {\r\n      return toast(\"Please enter a payment number\", \"error\");\r\n    } else if (formData.paymentInDate === \"\") {\r\n      return toast(\"Please select a payment date\", \"error\");\r\n    } else if (formData.paymentMode === \"\") {\r\n      return toast(\"Please select a payment mode\", \"error\");\r\n    } else if (formData.account === \"\") {\r\n      return toast(\"Please select an account\", \"error\");\r\n    }\r\n\r\n    if (checkedInv.length <= 0) {\r\n      return toast(\"Select invoice\", 'error');\r\n    }\r\n\r\n\r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + \"/paymentin/add\";\r\n      const token = Cookies.get(\"token\");\r\n\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(\r\n          !mode ? { ...formData, token, checkedInv }\r\n            : { ...formData, token, update: true, id: id, checkedInv }\r\n        )\r\n      });\r\n      const res = await req.json();\r\n      if (req.status !== 200 || res.err) {\r\n        return toast(res.err, 'error');\r\n      }\r\n\r\n      if (mode) {\r\n        toast('Payment update successfully', 'success');\r\n        navigate(-1);\r\n        return;\r\n      }\r\n\r\n      clear();\r\n\r\n      toast('Payment add successfully', 'success');\r\n      navigate('/admin/payment-in');\r\n      return\r\n\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      return toast('Something went wrong', 'error')\r\n    }\r\n\r\n  }\r\n\r\n  const clear = () => {\r\n    setFormData({\r\n      party: \"\", paymentInNumber: \"\", paymentInDate: \"\", paymentMode: \"\", account: \"\",\r\n      amount: \"\", details: \"\", invoiceId: ''\r\n    })\r\n  }\r\n\r\n\r\n  // On check satelment;\r\n  const handleSettlement = (e, inv) => {\r\n    const { checked } = e.target;\r\n    const due = parseInt(inv.dueAmount);\r\n\r\n    if (checked) {\r\n      if (tempAmount <= 0) {\r\n        toast(\"No amount left to allocate\", \"error\");\r\n        e.preventDefault();\r\n        e.target.checked = false;\r\n        return;\r\n      }\r\n\r\n      const alloc = Math.min(tempAmount, due);\r\n\r\n      const updatedCheckedInv = [...checkedInv, { ...inv, allocated: alloc }];\r\n      setCheckedInv(updatedCheckedInv);\r\n      setTempAmount(tempAmount - alloc);\r\n    }\r\n    else {\r\n      const existing = checkedInv.find((d) => d._id === inv._id);\r\n      const updatedCheckedInv = checkedInv.filter((d) => d._id !== inv._id);\r\n\r\n      if (existing) {\r\n        setTempAmount(tempAmount + existing.allocated);\r\n      }\r\n\r\n      setCheckedInv(updatedCheckedInv);\r\n    }\r\n  };\r\n\r\n  return <>\r\n    <div className='content__body__main bg-white'>\r\n      <div className='grid grid-cols-1 lg:grid-cols-2 lg:gap-4 gap-0'>\r\n        {/* First Column */}\r\n        <div className='flex flex-col gap-2'>\r\n          <div>\r\n            <p className='mb-1'>Select Party</p>\r\n            <MySelect2\r\n              model={\"party\"}\r\n              partyType={\"customer\"}\r\n              onType={(v) => {\r\n                setFormData({ ...formData, party: v })\r\n              }}\r\n              value={formData.party}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <p className='mb-1'>Amount</p>\r\n            <input type='text'\r\n              value={formData.amount}\r\n              onChange={\r\n                checkedInv.length > 0 ? null :\r\n                  (e) => setFormData({ ...formData, amount: e.target.value })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <p className='mb-1'>Payment in Number</p>\r\n            <input type='text'\r\n              value={formData.paymentInNumber}\r\n              onChange={(e) => setFormData({\r\n                ...formData, paymentInNumber: e.target.value\r\n              })}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Second Column */}\r\n        <div className='flex flex-col gap-2'>\r\n          <div>\r\n            <p className='mb-1'>Payment in Date</p>\r\n            <input type=\"date\"\r\n              onChange={(e) => {\r\n                setFormData({ ...formData, paymentInDate: e.target.value })\r\n              }}\r\n              value={formData.paymentInDate}\r\n              className='w-full'\r\n            />\r\n          </div>\r\n          <div>\r\n            <p className='mb-1'>Payment Mode</p>\r\n            <select name=\"mode\" id=\"\"\r\n              value={formData.paymentMode}\r\n              onChange={(e) => setFormData({ ...formData, paymentMode: e.target.value })}>\r\n              <option value=\"\">--Select--</option>\r\n              <option value=\"cash\">Cash</option>\r\n              <option value=\"bank\">Bank</option>\r\n              <option value=\"cheque\">Cheque</option>\r\n            </select>\r\n          </div>\r\n          {formData.paymentMode !== 'cash' && <div>\r\n            <p className='mb-1'>Account</p>\r\n            <SelectPicker className='w-full'\r\n              data={account}\r\n              onChange={(v) => setFormData({ ...formData, account: v })}\r\n              value={formData.account}\r\n            />\r\n          </div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    {/* ::::::::::::::::::::::::::::::::::::::::::::: */}\r\n    {/* :::::::::::::::::: [SETELMENT] :::::::::::::: */}\r\n    {/* ::::::::::::::::::::::::::::::::::::::::::::: */}\r\n    <div className='content__body__main mt-3'>\r\n      <table className='w-full border'>\r\n        <thead className='bg-gray-200'>\r\n          <tr >\r\n            <td></td>\r\n            <td className='p-2 font-medium'>Date</td>\r\n            <td className='font-medium'>Invoice Number</td>\r\n            <td className='font-medium'>Invoice Amount</td>\r\n            {/* <td className='font-medium'>Invoice Amount Settled</td> */}\r\n            <td className='font-medium'>TDS Amount</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            invoiceData.length > 0 ? invoiceData.map((inv, i) => {\r\n              return (\r\n                <tr key={i} className='border-gray-300'>\r\n                  <td className='p-2 max-w-2'>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      onChange={(e) => handleSettlement(e, inv)}\r\n                    />\r\n                  </td>\r\n                  <td>{inv.invoiceDate.split('T')[0]}</td>\r\n                  <td>{inv.salesInvoiceNumber}</td>\r\n                  {/* <td>{inv.amount || 0}</td> */}\r\n                  <td>{inv.dueAmount || 0}</td>\r\n                  <td>{inv.tdsAmount || 0}</td>\r\n                </tr>\r\n              )\r\n            }) : <tr className='text-center'>\r\n              <td colSpan={5} className='py-5 text-gray-500 font-bold'>No Invoice found</td>\r\n            </tr>\r\n          }\r\n        </tbody>\r\n      </table>\r\n\r\n      <div className='w-full flex justify-end gap-3 mt-3'>\r\n        <button\r\n          onClick={savePayment}\r\n          className='bg-green-500 hover:bg-green-400 save__and__reset__btns'>\r\n          <Icons.CHECK />\r\n          {!mode ? \"Save\" : \"Update\"}\r\n        </button>\r\n        <button\r\n          onClick={clear}\r\n          className='bg-blue-800 hover:bg-blue-700 save__and__reset__btns'>\r\n          <Icons.RESET />\r\n          Reset\r\n        </button>\r\n      </div>\r\n    </div>\r\n    {/* Salement div close here */}\r\n  </>\r\n}\r\n\r\nexport {\r\n  AddPaymentInComponent\r\n}\r\nexport default AddPayment;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport Transition from \"./Transition.js\";\nimport { useClassNames } from \"../internals/hooks/index.js\";\nimport { useCustom } from \"../CustomProvider/index.js\";\n/**\n * Slide animation component\n * @see https://rsuitejs.com/components/animation/#slide\n */\nconst Slide = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    timeout = 300,\n    placement = 'right',\n    ...props\n  } = _ref;\n  const {\n    propsWithDefaults\n  } = useCustom('Slide', props);\n  const {\n    prefix\n  } = useClassNames('anim');\n  const enterClassName = prefix('slide-in', placement);\n  const exitClassName = prefix('slide-out', placement);\n  return /*#__PURE__*/React.createElement(Transition, _extends({}, propsWithDefaults, {\n    ref: ref,\n    animation: true,\n    timeout: timeout,\n    enteringClassName: enterClassName,\n    enteredClassName: enterClassName,\n    exitingClassName: exitClassName,\n    exitedClassName: exitClassName\n  }));\n});\nSlide.displayName = 'Slide';\nexport default Slide;","'use client';\nconst warned = {};\n\n/**\n * Logs a warning message\n * but dont warn a same message twice\n */\nexport function warnOnce(message) {\n  if (!warned[message]) {\n    console.warn(message);\n    warned[message] = true;\n  }\n}\nwarnOnce._resetWarned = () => {\n  for (const message in warned) {\n    delete warned[message];\n  }\n};\nexport default warnOnce;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport warnOnce from \"./warnOnce.js\";\n\n/**\n * HOC for display a deprecation message from a deprecated component\n * fixme: Only display deprecation message in non-production environment\n */\nexport function deprecateComponent(Component, message) {\n  var _Component$displayNam;\n  const componentDisplayName = (_Component$displayNam = Component.displayName) !== null && _Component$displayNam !== void 0 ? _Component$displayNam : Component.name;\n  const Deprecated = /*#__PURE__*/React.forwardRef((props, ref) => {\n    warnOnce(message);\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      ref: ref\n    }, props));\n  });\n  Deprecated.displayName = `deprecated(${componentDisplayName})`;\n  return Deprecated;\n}\nexport default deprecateComponent;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport ModalBody from \"../Modal/ModalBody.js\";\nconst DrawerBody = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(ModalBody, _extends({\n  classPrefix: \"drawer-body\"\n}, props, {\n  ref: ref\n})));\nexport default DrawerBody;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport ModalHeader from \"../Modal/ModalHeader.js\";\nconst DrawerHeader = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(ModalHeader, _extends({\n  classPrefix: \"drawer-header\"\n}, props, {\n  ref: ref\n})));\nexport default DrawerHeader;","'use client';\nimport { createComponent } from \"../internals/utils/index.js\";\nconst DrawerActions = createComponent({\n  name: 'DrawerActions'\n});\nexport default DrawerActions;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport ModalFooter from \"../Modal/ModalFooter.js\";\nconst DrawerFooter = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(ModalFooter, _extends({\n  classPrefix: \"drawer-footer\"\n}, props, {\n  ref: ref\n})));\nexport default DrawerFooter;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport ModalTitle from \"../Modal/ModalTitle.js\";\nconst DrawerTitle = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(ModalTitle, _extends({\n  classPrefix: \"drawer-title\"\n}, props, {\n  ref: ref\n})));\nexport default DrawerTitle;","'use client';\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport Slide from \"../Animation/Slide.js\";\nimport Modal from \"../Modal/index.js\";\nimport { useClassNames } from \"../internals/hooks/index.js\";\nimport { deprecateComponent } from \"../internals/utils/index.js\";\nimport { useCustom } from \"../CustomProvider/index.js\";\nimport DrawerBody from \"./DrawerBody.js\";\nimport DrawerHeader from \"./DrawerHeader.js\";\nimport DrawerActions from \"./DrawerActions.js\";\nimport DrawerFooter from \"./DrawerFooter.js\";\nimport DrawerTitle from \"./DrawerTitle.js\";\n/**\n * The Drawer component is used to display extra content from a main content.\n * @see https://rsuitejs.com/components/drawer\n */\nconst Drawer = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    propsWithDefaults\n  } = useCustom('Drawer', props);\n  const {\n    className,\n    placement = 'right',\n    classPrefix = 'drawer',\n    animation = Slide,\n    closeButton = true,\n    ...rest\n  } = propsWithDefaults;\n  const {\n    merge,\n    prefix\n  } = useClassNames(classPrefix);\n  const classes = merge(className, prefix(placement));\n  const animationProps = {\n    placement\n  };\n  return /*#__PURE__*/React.createElement(Modal, _extends({}, rest, {\n    ref: ref,\n    overflow: false,\n    classPrefix: classPrefix,\n    className: classes,\n    animation: animation,\n    animationProps: animationProps,\n    isDrawer: true,\n    closeButton: closeButton\n  }));\n});\nDrawerBody.displayName = 'DrawerBody';\nDrawerHeader.displayName = 'DrawerHeader';\nDrawerActions.displayName = 'DrawerActions';\nDrawerFooter.displayName = 'DrawerFooter';\nDrawerTitle.displayName = 'DrawerTitle';\nDrawer.Body = DrawerBody;\nDrawer.Header = DrawerHeader;\nDrawer.Actions = DrawerActions;\nDrawer.Footer = deprecateComponent(DrawerFooter, '<Drawer.Footer> has been deprecated, use <Drawer.Actions> instead.');\nDrawer.Title = DrawerTitle;\nDrawer.displayName = 'Drawer';\nexport default Drawer;","'use client';\nimport Drawer from \"./Drawer.js\";\nexport default Drawer;"],"names":["AddPaymentInComponent","_ref2","mode","partyId","invoiceNumber","due","navigate","useNavigate","getApiData","useApi","toast","useMyToaster","id","useParams","formData","setFormData","useState","party","paymentInNumber","paymentInDate","paymentMode","account","amount","details","invoiceId","setAccount","invoice","setInvoice","invoiceData","setInvoiceData","checkedInv","setCheckedInv","tempAmount","setTempAmount","useEffect","totalSelected","item","parseInt","dueAmount","remaining","async","url","process","cookie","Cookies","get","req","fetch","method","headers","body","JSON","stringify","token","res","json","inv","data","map","value","salesInvoiceNumber","label","console","log","error","getInvoice","_objectSpread","split","d","title","_id","apiData","clear","_jsxs","_Fragment","children","_jsx","className","MySelect2","model","partyType","onType","v","type","onChange","length","e","target","name","SelectPicker","i","handleSettlement","checked","preventDefault","alloc","Math","min","updatedCheckedInv","allocated","existing","find","filter","invoiceDate","tdsAmount","colSpan","onClick","update","status","err","Icons","CHECK","RESET","_ref","Nav","SideNav","_excluded","Slide","React","ref","timeout","placement","props","_objectWithoutProperties","propsWithDefaults","useCustom","prefix","useClassNames","enterClassName","exitClassName","Transition","_extends","animation","enteringClassName","enteredClassName","exitingClassName","exitedClassName","displayName","warned","warnOnce","message","warn","_resetWarned","deprecateComponent","Component","_Component$displayNam","componentDisplayName","Deprecated","concat","ModalBody","classPrefix","ModalHeader","createComponent","ModalFooter","ModalTitle","Drawer","closeButton","rest","merge","classes","animationProps","Modal","overflow","isDrawer","DrawerBody","DrawerHeader","DrawerActions","DrawerFooter","DrawerTitle","Body","Header","Actions","Footer","Title"],"sourceRoot":""}