{"version":3,"file":"static/js/9559.87b80f43.chunk.js","mappings":"kHAAA,MAkBA,EAlBsBA,IACHC,IACf,MAAMC,EAAWC,SAASC,eAAeH,GAErCC,IACFA,EAASG,UAAUC,IAAI,SACvBJ,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAExFC,YAAW,KACTV,EAASG,UAAUQ,OAAO,SAC1BX,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAAO,GAC9F,KACL,C,qJCJJ,MA0EA,EA1EuBG,KACrB,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,CAAEC,eAAgB,GAAIC,SAAU,KACrEC,GAAUpB,EAAAA,EAAAA,KACVqB,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,KA+Cd,OACEC,EAAAA,EAAAA,MAAA,QAAMC,UAAU,cAAaC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKC,IAAKC,EAAMC,IAAI,WAAWL,UAAU,UACzCD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA2BM,GAAG,WAAUL,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oCAAmCC,SAAC,qBAClDF,EAAAA,EAAAA,MAAA,QAAMQ,SAjDOC,UACjBC,EAAEC,iBACF,MAAMC,EAASC,OAAOC,YAAY,IAAIC,SAASL,EAAEM,SAEjD,IAAK,IAAIC,KAASJ,OAAOK,KAAKN,GAC5B,GAAsB,KAAlBA,EAAOK,SAAmCE,IAAlBP,EAAOK,IAA0C,OAAlBL,EAAOK,GAEhE,YADAtB,EAAQ,YAMZ,GAAIL,EAAUI,WAAaJ,EAAUG,eACnC,OAAOK,EAAM,6BAA8B,SAI7C,IACE,MAAMsB,EAAMC,2DACNC,QAAYC,MAAMH,EAAK,CAC3BI,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAClC,SAAUJ,EAAUI,SAAUmC,MAAOC,EAAAA,EAAQC,IAAI,kBAGnEC,QAAYV,EAAIW,OACtB,GAAmB,MAAfX,EAAIY,SAAmBF,EAAIG,OAC7B,OAAOrC,EAAMkC,EAAII,IAAK,SAGxBN,EAAAA,EAAQ1C,OAAO,cACf0C,EAAAA,EAAQO,IAAI,QAASL,EAAIM,SAAU,CAAEC,QAAQ,IAC7C3C,EAAS,mBAEX,CAAE,MAAO4C,GAEP,OADAC,QAAQC,IAAIF,GACL1C,EAAM,uBAAwB,QACvC,GAU+BI,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOwC,KAAK,OAAOC,KAAK,OACtBC,MAAOvD,EAAUI,SACjBoD,SAAWpC,GAAMnB,GAAYwD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIzD,GAAS,IAAEI,SAAUgB,EAAEM,OAAO6B,SACjE5C,UAAU,cAAc+C,YAAY,kBAEtC7C,EAAAA,EAAAA,KAAA,SAAOwC,KAAK,OAAOC,KAAK,OACtBC,MAAOvD,EAAUG,eACjBqD,SAAWpC,GAAMnB,GAAYwD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIzD,GAAS,IAAEG,eAAgBiB,EAAEM,OAAO6B,SACvE5C,UAAU,cAAc+C,YAAY,sBAEtC7C,EAAAA,EAAAA,KAAA,UAAQF,UAAU,eAAcC,SAAC,iBAGhC,C","sources":["hooks/useLoginShake.jsx","pages/Auth/ChangePassword.jsx"],"sourcesContent":["const useLoginShake = () => {\r\n  const shakeIt = (loginBoxId) => {\r\n    const loginBox = document.getElementById(loginBoxId);\r\n\r\n    if (loginBox) {\r\n      loginBox.classList.add('shake');\r\n      loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = 'red');\r\n\r\n      setTimeout(() => {\r\n        loginBox.classList.remove('shake');\r\n        loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = '#ccc')\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return shakeIt;\r\n}\r\n\r\nexport default useLoginShake;\r\n","import \"../../assets/css/login.css\"\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { useState } from \"react\";\r\nimport useLoginShake from \"../../hooks/useLoginShake\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useMyToaster from \"../../hooks/useMyToaster\";\r\nimport Cookies from 'js-cookie';\r\n\r\nconst ChangePassword = () => {\r\n  const [loginData, setLoginData] = useState({ confirPassword: '', password: '' });\r\n  const shakeIt = useLoginShake();\r\n  const navigate = useNavigate();\r\n  const toast = useMyToaster();\r\n\r\n\r\n  const formAction = async (e) => {\r\n    e.preventDefault();\r\n    const fields = Object.fromEntries(new FormData(e.target));\r\n\r\n    for (let field of Object.keys(fields)) {\r\n      if (fields[field] === '' || fields[field] === undefined || fields[field] === null) {\r\n        shakeIt('loginBox');\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\n    if (loginData.password !== loginData.confirPassword) {\r\n      return toast(\"Confirm password not match\", \"error\")\r\n    }\r\n\r\n\r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + \"/user/reset-pass\";\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({password: loginData.password, token: Cookies.get(\"user-token\")})\r\n      });\r\n\r\n      const res = await req.json();\r\n      if (req.status !== 200 || !res.change) {\r\n        return toast(res.err, \"error\")\r\n      }\r\n\r\n      Cookies.remove(\"user-token\");\r\n      Cookies.set(\"token\", res.newToken, { secure: true });\r\n      navigate(\"/admin/dashboard\")\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n      return toast(\"Something went wrong\", \"error\")\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <main className='login__main'>\r\n      <img src={Logo} alt=\"Logo.png\" className='mb-5' />\r\n      <div className=\"login__box flex flex-col\" id=\"loginBox\">\r\n        <h1 className='text-center text-[25px] mb-8 mt-4'>Change Password</h1>\r\n        <form onSubmit={formAction}>\r\n          <input type=\"text\" name=\"text\"\r\n            value={loginData.password}\r\n            onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\r\n            className='input_style' placeholder='New password'\r\n          />\r\n          <input type=\"text\" name=\"text\"\r\n            value={loginData.confirPassword}\r\n            onChange={(e) => setLoginData({ ...loginData, confirPassword: e.target.value })}\r\n            className='input_style' placeholder='Confirm password'\r\n          />\r\n          <button className='button_style'>Save</button>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default ChangePassword;"],"names":["useLoginShake","loginBoxId","loginBox","document","getElementById","classList","add","querySelectorAll","forEach","inputField","style","borderColor","setTimeout","remove","ChangePassword","loginData","setLoginData","useState","confirPassword","password","shakeIt","navigate","useNavigate","toast","useMyToaster","_jsxs","className","children","_jsx","src","Logo","alt","id","onSubmit","async","e","preventDefault","fields","Object","fromEntries","FormData","target","field","keys","undefined","url","process","req","fetch","method","headers","body","JSON","stringify","token","Cookies","get","res","json","status","change","err","set","newToken","secure","error","console","log","type","name","value","onChange","_objectSpread","placeholder"],"sourceRoot":""}