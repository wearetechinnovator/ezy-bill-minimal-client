{"version":3,"file":"static/js/681.2056ba73.chunk.js","mappings":"yIAEA,MAMA,EANgBA,KAEZC,EAAAA,EAAAA,KAAA,OAAKC,MAAM,gF,mCCJf,MAkBA,EAlBsBC,IACHC,IACf,MAAMC,EAAWC,SAASC,eAAeH,GAErCC,IACFA,EAASG,UAAUC,IAAI,SACvBJ,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAExFC,YAAW,KACTV,EAASG,UAAUQ,OAAO,SAC1BX,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAAO,GAC9F,KACL,C,gKCAJ,MA8EA,EA9EeG,KACb,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,CAAEC,MAAO,KAC9CC,GAAUnB,EAAAA,EAAAA,KACVoB,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,MACPC,EAASC,IAAcR,EAAAA,EAAAA,WAAS,GA4CvC,OACES,EAAAA,EAAAA,MAAA,QAAMC,UAAU,cAAaC,SAAA,EAC3B9B,EAAAA,EAAAA,KAAA,OAAK+B,IAAKC,EAAMC,IAAI,WAAWJ,UAAU,UACzCD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA2BK,GAAG,WAAUJ,SAAA,EACrD9B,EAAAA,EAAAA,KAAA,KAAG6B,UAAU,qBAAoBC,SAAC,0BAClCF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOC,SAAA,CAAC,2DACoC9B,EAAAA,EAAAA,KAAA,SAAM,iCAE/D4B,EAAAA,EAAAA,MAAA,QAAMO,SA/COC,UACjBC,EAAEC,iBACF,MAAMC,EAASC,OAAOC,YAAY,IAAIC,SAASL,EAAEM,SAEjD,IAAK,IAAIC,KAASJ,OAAOK,KAAKN,GAC5B,GAAsB,KAAlBA,EAAOK,SAAmCE,IAAlBP,EAAOK,IAA0C,OAAlBL,EAAOK,GAEhE,YADAvB,EAAQ,YAKZ,IACE,MAAM0B,EAAMC,uDACZrB,GAAW,GACX,MAAMsB,QAAYC,MAAMH,EAAK,CAC3BI,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUtC,KAGjBuC,QAAYP,EAAIQ,OAEtB,GADA9B,GAAW,GACQ,MAAfsB,EAAIS,QAAkBF,EAAIG,IAC5B,OAAOnC,EAAMgC,EAAIG,IAAK,SAGxBC,EAAAA,EAAQC,IAAI,aAAcL,EAAIM,MAAO,CAAEC,QAAQ,IAC/CzC,EAAS,aAAc,CAAC0C,MAAM,CAAC5C,MAAOH,EAAUG,QAElD,CAAE,MAAO6C,GAEP,OADAC,QAAQC,IAAIF,GACLzC,EAAM,uBAAwB,QACvC,GAa+BM,SAAA,EACzB9B,EAAAA,EAAAA,KAAA,SAAOoE,KAAK,QAAQC,KAAK,QACvBC,MAAOrD,EAAUG,MACjBmD,SAAWlC,GAAMnB,GAAYsD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIvD,GAAS,IAAEG,MAAOiB,EAAEM,OAAO2B,SAC9DzC,UAAU,cAAc4C,YAAY,iBAEtCzE,EAAAA,EAAAA,KAAA,UAAQ6B,UAAU,eAAeuC,KAAK,SAAQtC,SAC3CJ,GAAU1B,EAAAA,EAAAA,KAACD,EAAAA,EAAO,IAAM,UAE3BC,EAAAA,EAAAA,KAAA,OAAK6B,UAAU,mBAAkBC,UAC/B9B,EAAAA,EAAAA,KAAA,UACEoE,KAAK,SACLM,QAASA,IAAMpD,EAAS,UACxBO,UAAU,0BAAyBC,SAAC,4BAIvC,C","sources":["components/Loading.jsx","hooks/useLoginShake.jsx","pages/Auth/Forgot.jsx"],"sourcesContent":["import React from 'react'\r\n// Circular Progress indicator\r\nconst Loading = () => {\r\n  return (\r\n    <div class=\"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin\"></div>\r\n  )\r\n}\r\n\r\nexport default Loading","const useLoginShake = () => {\r\n  const shakeIt = (loginBoxId) => {\r\n    const loginBox = document.getElementById(loginBoxId);\r\n\r\n    if (loginBox) {\r\n      loginBox.classList.add('shake');\r\n      loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = 'red');\r\n\r\n      setTimeout(() => {\r\n        loginBox.classList.remove('shake');\r\n        loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = '#ccc')\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return shakeIt;\r\n}\r\n\r\nexport default useLoginShake;\r\n","import \"../../assets/css/login.css\"\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { useState } from \"react\";\r\nimport useLoginShake from \"../../hooks/useLoginShake\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useMyToaster from \"../../hooks/useMyToaster\";\r\nimport Cookies from 'js-cookie';\r\nimport Loading from \"../../components/Loading\";\r\n\r\n\r\n\r\n\r\nconst Forget = () => {\r\n  const [loginData, setLoginData] = useState({ email: ''});\r\n  const shakeIt = useLoginShake();\r\n  const navigate = useNavigate();\r\n  const toast = useMyToaster();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n\r\n  \r\n  const formAction = async (e) => {\r\n    e.preventDefault();\r\n    const fields = Object.fromEntries(new FormData(e.target));\r\n\r\n    for (let field of Object.keys(fields)) {\r\n      if (fields[field] === '' || fields[field] === undefined || fields[field] === null) {\r\n        shakeIt('loginBox');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      const url = process.env.REACT_APP_API_URL + \"/user/forgot\";\r\n      setLoading(true);\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(loginData)\r\n      });\r\n\r\n      const res = await req.json();\r\n      setLoading(false);\r\n      if (req.status !== 200 || res.err) {\r\n        return toast(res.err, \"error\")\r\n      }\r\n\r\n      Cookies.set(\"user-token\", res.token, { secure: true });\r\n      navigate(\"/admin/otp\", {state:{email: loginData.email}});\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n      return toast(\"Something went wrong\", \"error\")\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <main className='login__main'>\r\n      <img src={Logo} alt=\"Logo.png\" className='mb-5' />\r\n      <div className=\"login__box flex flex-col\" id=\"loginBox\">\r\n        <p className=\"text-2xl font-bold\">Forgot Your Password</p>\r\n        <p className=\"mb-10\">\r\n          Please enter the email address you'd like your password<br />\r\n          reset information sent to.</p>\r\n        <form onSubmit={formAction}>\r\n          <input type=\"emial\" name=\"email\"\r\n            value={loginData.email}\r\n            onChange={(e) => setLoginData({ ...loginData, email: e.target.value })}\r\n            className='input_style' placeholder='Enter email'\r\n          />\r\n          <button className='button_style' type=\"submit\">\r\n            {loading ? <Loading /> : 'Send'}\r\n          </button>\r\n          <div className=\"text-center my-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => navigate('/admin')}\r\n              className=\"text-blue-500 font-bold\">Back To Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Forget;"],"names":["Loading","_jsx","class","useLoginShake","loginBoxId","loginBox","document","getElementById","classList","add","querySelectorAll","forEach","inputField","style","borderColor","setTimeout","remove","Forget","loginData","setLoginData","useState","email","shakeIt","navigate","useNavigate","toast","useMyToaster","loading","setLoading","_jsxs","className","children","src","Logo","alt","id","onSubmit","async","e","preventDefault","fields","Object","fromEntries","FormData","target","field","keys","undefined","url","process","req","fetch","method","headers","body","JSON","stringify","res","json","status","err","Cookies","set","token","secure","state","error","console","log","type","name","value","onChange","_objectSpread","placeholder","onClick"],"sourceRoot":""}