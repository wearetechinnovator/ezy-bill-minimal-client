{"version":3,"file":"static/js/3977.57339aad.chunk.js","mappings":"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","sources":["components/Loading.jsx","hooks/useLoginShake.jsx","pages/Auth/Otp.jsx"],"sourcesContent":["import React from 'react'\r\n// Circular Progress indicator\r\nconst Loading = () => {\r\n  return (\r\n    <div class=\"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin\"></div>\r\n  )\r\n}\r\n\r\nexport default Loading","const useLoginShake = () => {\r\n  const shakeIt = (loginBoxId) => {\r\n    const loginBox = document.getElementById(loginBoxId);\r\n\r\n    if (loginBox) {\r\n      loginBox.classList.add('shake');\r\n      loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = 'red');\r\n\r\n      setTimeout(() => {\r\n        loginBox.classList.remove('shake');\r\n        loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = '#ccc')\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return shakeIt;\r\n}\r\n\r\nexport default useLoginShake;\r\n","import \"../../assets/css/login.css\"\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { useState } from \"react\";\r\nimport useLoginShake from \"../../hooks/useLoginShake\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport useMyToaster from \"../../hooks/useMyToaster\";\r\nimport Cookies from 'js-cookie';\r\nimport { MdEmail } from \"react-icons/md\";\r\nimport Loading from \"../../components/Loading\";\r\n\r\n\r\n\r\n\r\nconst Otp = () => {\r\n  const [otpdata, setOtp] = useState([]);\r\n  const shakeIt = useLoginShake();\r\n  const navigate = useNavigate();\r\n  const toast = useMyToaster();\r\n  const location = useLocation();\r\n  const email = location.state?.email;\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n\r\n  const checkOtp = async () => {\r\n    if (otpdata.length === 0) {\r\n      shakeIt();\r\n      toast(\"Invalid OTP\", 'error')\r\n      return;\r\n    }\r\n\r\n\r\n    try {\r\n      setLoading(true)\r\n      const url = process.env.REACT_APP_API_URL + \"/user/verify-otp\";\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ otp: otpdata.join(''), token: Cookies.get(\"user-token\") })\r\n      });\r\n\r\n      const res = await req.json();\r\n      setLoading(false);\r\n      if (req.status !== 200 || res.err) {\r\n        return toast(res.err, \"error\")\r\n      }\r\n\r\n      navigate(\"/admin/change-password\");\r\n\r\n    } catch (error) {\r\n      setLoading(false)\r\n      console.log(error)\r\n      return toast(\"Something went wrong\", \"error\")\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <main className='login__main'>\r\n      <img src={Logo} alt=\"Logo.png\" className='mb-5' />\r\n      <div className=\"login__box flex flex-col\" id=\"loginBox\">\r\n        <div className=\"w-[50px] h-[50px] bg-[#0000001e] text-blue-500 rounded-full flex justify-center items-center mx-auto\">\r\n          <MdEmail className=\"text-2xl\" />\r\n        </div>\r\n        <p className=\"text-2xl font-bold text-center\">OTP Verification</p>\r\n        <p className=\"mb-8 text-center\">\r\n          Please enter your verification code we sent <br />to <i>{email}</i>\r\n        </p>\r\n        <form className='flex gap-4 justify-center items-center'>\r\n          <input type=\"text\" name=\"text\"\r\n            value={otpdata[0]}\r\n            onChange={(e) => {\r\n              const newLoginData = [...otpdata];\r\n              newLoginData[0] = e.target.value;\r\n              setOtp(newLoginData);\r\n              if (e.target.value && e.target.nextSibling) {\r\n                e.target.nextSibling.focus();\r\n              }\r\n            }}\r\n            className='otp__field'\r\n            maxLength=\"1\"\r\n          />\r\n          <input type=\"text\" name=\"text\"\r\n            value={otpdata[1]}\r\n            onChange={(e) => {\r\n              const newLoginData = [...otpdata];\r\n              newLoginData[1] = e.target.value;\r\n              setOtp(newLoginData);\r\n              if (e.target.value && e.target.nextSibling) {\r\n                e.target.nextSibling.focus();\r\n              }\r\n            }}\r\n            className='otp__field'\r\n            maxLength=\"1\"\r\n          />\r\n          <input type=\"text\" name=\"text\"\r\n            value={otpdata[2]}\r\n            onChange={(e) => {\r\n              const newLoginData = [...otpdata];\r\n              newLoginData[2] = e.target.value;\r\n              setOtp(newLoginData);\r\n              if (e.target.value && e.target.nextSibling) {\r\n                e.target.nextSibling.focus();\r\n              }\r\n            }}\r\n            className='otp__field'\r\n            maxLength=\"1\"\r\n          />\r\n          <input type=\"text\" name=\"text\"\r\n            value={otpdata[3]}\r\n            onChange={(e) => {\r\n              const newLoginData = [...otpdata];\r\n              newLoginData[3] = e.target.value;\r\n              setOtp(newLoginData);\r\n              if (e.target.value && e.target.nextSibling) {\r\n                e.target.nextSibling.focus();\r\n              }\r\n            }}\r\n            className='otp__field'\r\n            maxLength=\"1\"\r\n          />\r\n        </form>\r\n        <div className='flex justify-center'>\r\n          <button\r\n            className='bg-[#003E32] p-3 rounded mt-7 text-white flex justify-center'\r\n            onClick={checkOtp}>{loading ? <Loading /> : \"Verify OTP\"}</button>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Otp;"],"names":["Loading","_jsx","class","useLoginShake","loginBoxId","loginBox","document","getElementById","classList","add","querySelectorAll","forEach","inputField","style","borderColor","setTimeout","remove","Otp","_location$state","otpdata","setOtp","useState","shakeIt","navigate","useNavigate","toast","useMyToaster","email","useLocation","state","loading","setLoading","_jsxs","className","children","src","Logo","alt","id","MdEmail","type","name","value","onChange","e","newLoginData","target","nextSibling","focus","maxLength","onClick","async","length","url","process","req","fetch","method","headers","body","JSON","stringify","otp","join","token","Cookies","get","res","json","status","err","error","console","log"],"sourceRoot":""}