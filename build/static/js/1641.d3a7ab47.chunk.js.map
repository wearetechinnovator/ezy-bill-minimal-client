{"version":3,"file":"static/js/1641.d3a7ab47.chunk.js","mappings":"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","sources":["pages/Unit/UnitAdd.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav'\r\nimport { FaRegCheckCircle } from \"react-icons/fa\";\r\nimport { LuRefreshCcw } from \"react-icons/lu\";\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\nconst UnitAdd = ({ mode }) => {\r\n    const toast = useMyToaster();\r\n    const [form, setForm] = useState({ title: '', details: '' });\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        if (mode) {\r\n            const get = async () => {\r\n                const url = process.env.REACT_APP_API_URL + \"/unit/get\";\r\n                const cookie = Cookies.get(\"token\");\r\n\r\n                const req = await fetch(url, {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": 'application/json'\r\n                    },\r\n                    body: JSON.stringify({ token: cookie, id: id })\r\n                })\r\n                const res = await req.json();\r\n                setForm({ ...form, ...res.data });\r\n            }\r\n\r\n            get();\r\n        }\r\n    }, [mode])\r\n\r\n    const saveData = async (e) => {\r\n        if (form.title === \"\") {\r\n            return toast(\"fill the blank\", \"error\")\r\n        }\r\n\r\n        try {\r\n            const url = process.env.REACT_APP_API_URL + \"/unit/add\";\r\n            const token = Cookies.get(\"token\");\r\n            const req = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(!mode ? { ...form, token } : { ...form, token, update: true, id: id })\r\n            })\r\n            const res = await req.json();\r\n            if (req.status !== 200 || res.err) {\r\n                return toast(res.err, 'error');\r\n            }\r\n\r\n            if (!mode) {\r\n                setForm({ title: \"\", details: '' });\r\n            }\r\n\r\n            toast(!mode ? \"Unit create success\" : \"Unit update success\", 'success');\r\n            navigate('/admin/unit');\r\n            return\r\n\r\n\r\n        } catch (error) {\r\n            return toast(\"Something went wrong\", \"error\")\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const clearData = (e) => {\r\n        setForm({\r\n            title: '',\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Nav title={mode ? \"Update Unit\" : \"Add Unit\"} />\r\n            <main id='main'>\r\n                <SideNav />\r\n                <div className='content__body'>\r\n                    <div className='content__body__main bg-white '>\r\n                        <div className=' flex-col lg:flex-row'>\r\n                            <div className='w-full'>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Title <span className='required__text'>*</span></p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...form, title: e.target.value })} value={form.title} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex justify-center pt-9 mb-6'>\r\n                            <div className='flex rounded-sm bg-green-500 text-white'>\r\n                                <FaRegCheckCircle className='mt-3 ml-2' />\r\n                                <button className='p-2' onClick={saveData}>{mode ? \"Update\" : 'Save'}</button>\r\n                            </div>\r\n                            <div className='flex rounded-sm ml-4 bg-blue-500 text-white'>\r\n                                <LuRefreshCcw className='mt-3 ml-2' />\r\n                                <button className='p-2' onClick={clearData}>Reset</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UnitAdd"],"names":["_ref","mode","toast","useMyToaster","form","setForm","useState","title","details","id","useParams","navigate","useNavigate","useEffect","async","cookie","Cookies","get","req","fetch","process","method","headers","body","JSON","stringify","token","res","json","_objectSpread","data","_jsxs","_Fragment","children","_jsx","Nav","SideNav","className","type","onChange","e","target","value","FaRegCheckCircle","onClick","url","update","status","err","error","LuRefreshCcw"],"sourceRoot":""}