{"version":3,"file":"static/js/1099.0eec33ef.chunk.js","mappings":"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","sources":["pages/Tax/TaxAdd.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Nav from '../../components/Nav';\r\nimport SideNav from '../../components/SideNav'\r\nimport { useRef } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { FaRegCheckCircle } from \"react-icons/fa\";\r\nimport { LuRefreshCcw } from \"react-icons/lu\";\r\nimport useMyToaster from '../../hooks/useMyToaster';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport { Icons } from '../../helper/icons';\r\n\r\nconst TaxAdd = ({ mode }) => {\r\n    const toast = useMyToaster();\r\n    const editorRef = useRef(null);\r\n    const [form, setForm] = useState({ title: '', details: '', gst: '0', cess: '0' });\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        if (mode) {\r\n            const get = async () => {\r\n                const url = process.env.REACT_APP_API_URL + \"/tax/get\";\r\n                const cookie = Cookies.get(\"token\");\r\n\r\n                const req = await fetch(url, {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": 'application/json'\r\n                    },\r\n                    body: JSON.stringify({ token: cookie, id: id })\r\n                })\r\n                const res = await req.json();\r\n                setForm({ ...form, ...res.data });\r\n            }\r\n\r\n            get();\r\n        }\r\n    }, [mode])\r\n\r\n    \r\n    const saveData = async (e) => {\r\n        if (form.title === \"\") {\r\n            return toast(\"Please enter title\", \"error\")\r\n        }else if (form.gst === \"\") {\r\n            return toast(\"Please enter GST\", \"error\")\r\n        }\r\n\r\n        try {\r\n            const url = process.env.REACT_APP_API_URL + \"/tax/add\";\r\n            const token = Cookies.get(\"token\");\r\n            const req = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(!mode ? { ...form, token } : { ...form, token, update: true, id: id })\r\n            })\r\n            const res = await req.json();\r\n            if (req.status !== 200 || res.err) {\r\n                return toast(res.err, 'error');\r\n            }\r\n\r\n            if (!mode) {\r\n                setForm({ title: '', details: '', gst: '0', cess: '0' });\r\n            }\r\n\r\n            \r\n            toast(!mode ? \"Tax create success\" : \"Tax update success\", 'success');\r\n            navigate(\"/admin/tax\");\r\n            return \r\n\r\n\r\n        } catch (error) {\r\n            return toast(\"Something went wrong\", \"error\")\r\n        }\r\n\r\n    }\r\n\r\n    const clearData = (e) => {\r\n        setForm({\r\n            title: '',\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Nav title={mode ? \"Upate Tax\" : \"Add Tax\"} />\r\n            <main id='main'>\r\n                <SideNav />\r\n                <div className='content__body'>\r\n                    <div className='content__body__main bg-white '>\r\n                        <div className='flex flex-col'>\r\n                            <div className='w-full'>\r\n                                <div className='p-2'>\r\n                                    <p className='pb-1'>Title <span className='required__text'>*</span></p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...form, title: e.target.value })} value={form.title} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='w-full flex flex-col lg:flex-row'>\r\n                                <div className='p-2 w-full'>\r\n                                    <p className='pb-1'>{\"GST (%)\"} <span className='required__text'>*</span></p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...form, gst: e.target.value })} value={form.gst} />\r\n                                </div>\r\n                                <div className='p-2 w-full'>\r\n                                    <p className='pb-1'>{\"CESS (%)\"}</p>\r\n                                    <input type='text' onChange={(e) => setForm({ ...form, cess: e.target.value })} value={form.cess} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='flex justify-center pt-9 mb-6'>\r\n                            <div className='flex rounded-sm bg-green-500 text-white'>\r\n                                <Icons.CHECK className='mt-3 ml-2' />\r\n                                <button className='p-2' onClick={saveData}>{mode ? \"Update\" : \"Save\"}</button>\r\n                            </div>\r\n                            <div className='flex rounded-sm ml-4 bg-blue-500 text-white'>\r\n                                <Icons.RESET className='mt-3 ml-2' />\r\n                                <button className='p-2' onClick={clearData}>Reset</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TaxAdd"],"names":["_ref","mode","toast","useMyToaster","form","setForm","useRef","useState","title","details","gst","cess","id","useParams","navigate","useNavigate","useEffect","async","cookie","Cookies","get","req","fetch","process","method","headers","body","JSON","stringify","token","res","json","_objectSpread","data","_jsxs","_Fragment","children","_jsx","Nav","SideNav","className","type","onChange","e","target","value","Icons","CHECK","onClick","url","update","status","err","error","RESET"],"sourceRoot":""}