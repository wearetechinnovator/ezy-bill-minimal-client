(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8284],{85623:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});l(65043);const s=l.p+"static/media/norecord.048751373b74c78a9b0413a800412fa9.svg";var n=l(66580),a=l(70579);const c=e=>{let{title:t,link:l}=e;const c=(0,n.Zp)();return(0,a.jsx)("div",{className:"add_new_compnent",children:(0,a.jsxs)("div",{className:"w-full bg-white rounded shadow-sm p-4 grid place-items-center",children:[(0,a.jsx)("img",{src:s,alt:"",srcset:""}),(0,a.jsxs)("p",{className:"mb-3 text-lg text-gray-400",children:["You don't have any ",t]}),(0,a.jsxs)("button",{onClick:()=>{c(l)},className:"bg-[#003E32] text-white mb-2",children:["Add ",t]})]})})}},80138:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});l(65043);var s=l(70579);const n=()=>(0,s.jsx)("div",{className:"shimmer__parent",children:(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"flex flex-col gap-2",children:Array.from({length:8}).map(((e,t)=>(0,s.jsx)("div",{className:"animate w-full h-[20px] rounded"},e)))})})})},36615:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(64363);const n=async e=>{let t="";try{const l=await(0,s.x8)(e).toBlob();t=URL.createObjectURL(l);const n=await fetch(t),a=await n.blob(),c=window.URL.createObjectURL(a),r=document.createElement("a");r.href=c,r.download="data-".concat(Date.now(),".pdf"),r.click()}catch(l){console.error("Error in download process:",l)}finally{t&&URL.revokeObjectURL(t)}}},63744:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var s=l(11238),n=l(64363),a=l(9435),c=l(70579);const r=()=>{const e=(0,a.A)();return{copyTable:async e=>{const t=document.querySelector("#"+e);if(!t)return void console.error("Table with id ".concat(e," not found."));try{const e=document.createElement("textarea");e.value=(e=>{let t="";return e.querySelectorAll("tr").forEach((e=>{const l=e.querySelectorAll("th, td");l.forEach(((e,s)=>{t+=e.textContent.trim(),s<l.length-1&&(t+="\t")})),t+="\n"})),t})(t),document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),await navigator.clipboard.writeText(e.value),console.log("Table copied to clipboard."),document.body.removeChild(e)}catch(l){console.error("Failed to copy table:",l)}},downloadExcel:(t,l)=>{try{const e=s.Wp.book_new(),n=s.Wp.json_to_sheet(t);s.Wp.book_append_sheet(e,n,"Data"),s._h(e,l)}catch(n){e("Download faild! "+n,"error")}},printTable:(e,t)=>{const l=e.current.outerHTML,s=window.open("","_blank","width=800,height=600");s.document.write("\n      <html>\n        <head>\n          <title>".concat(t,"</title>\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              padding: 20px;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n            }\n            th, td {\n              border: 1px solid gray;\n              padding: 8px;\n              text-align: left;\n            }\n          </style>\n        </head>\n        <body>\n          <h3>").concat(t,"</h3>\n          ").concat(l,"\n        </body>\n      </html>\n    ")),s.document.close(),s.focus(),s.print(),s.close()},exportPdf:(e,t)=>{console.log("exprot hook",t);const l=n.vv.create({page:{padding:20,backgroundColor:"#fff"},header:{marginBottom:20,textAlign:"center"},table:{display:"flex",flexDirection:"column",borderWidth:1,borderColor:"#ddd",borderRadius:4,overflow:"hidden"},row:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#ddd"},headerRow:{backgroundColor:"#3B82F6"},cell:{flex:1,padding:5,textAlign:"center",borderRightWidth:1,borderRightColor:"#ddd",fontSize:10},headerCell:{color:"white",fontWeight:"bold"}});try{const s=t&&t[0];return(0,c.jsx)(n.yo,{children:(0,c.jsxs)(n.YW,{size:"A4",style:l.page,children:[(0,c.jsx)(n.Ss,{style:l.header,children:(0,c.jsx)(n.EY,{children:e})}),(0,c.jsxs)(n.Ss,{style:l.table,children:[(0,c.jsx)(n.Ss,{style:[l.row,l.headerRow],children:s&&Object.keys(s).map(((e,t)=>(0,c.jsx)(n.EY,{style:[l.cell,l.headerCell],children:e},t)))}),t&&t.map(((e,t)=>(0,c.jsx)(n.Ss,{style:l.row,children:Object.keys(e).map(((t,s)=>(0,c.jsx)(n.EY,{style:l.cell,children:e[t]},s)))},t)))]})]})})}catch(s){console.log(s)}}}}},62024:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>_});var s=l(65043),n=l(75206),a=l(86319),c=l(49804),r=l(60184),o=l(6720),i=l(66580),d=l(63744),x=l(36615),h=l(1880),p=l(9435),m=l(32620),u=l(80138),b=l(39532),j=l(50423),f=l(96685),g=l(96074),w=l(85623),y=l(75200),v=l(70579);const _=e=>{let{mode:t}=e;const l=(0,p.A)(),{copyTable:_,downloadExcel:N,printTable:k,exportPdf:C}=(0,d.A)(),[A,S]=(0,s.useState)(1),[T,E]=(0,s.useState)(10),[R,L]=(0,s.useState)(),[D,O]=(0,s.useState)([]),W=(0,i.Zp)(),[U,B]=(0,s.useState)([]),q=(0,s.useRef)(null),[z,P]=(0,s.useState)("active"),Y=(0,s.useMemo)((()=>U&&U.map((e=>{let{title:t}=e;return{Title:t}}))),[U]),[F,M]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{try{const e={token:h.A.get("token"),trash:"trash"===z,all:"all"===z},t="https://ezy-bill-api.tisindia.net/api/v1"+"/tax/get?page=".concat(A,"&limit=").concat(T),l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await l.json();L(s.totalData),B([...s.data]),M(!1)}catch(e){console.log(e)}})()}),[z,T,A]);const H=async e=>{if("copy"===e)_("listOfTax");else if("excel"===e)N(Y,"tax-list.xlsx");else if("print"===e)k(q,"Tax List");else if("pdf"===e){let e=C("Tax List",Y);(0,x.A)(e)}};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n.A,{title:"Tax"}),(0,v.jsxs)("main",{id:"main",children:[(0,v.jsx)(a.A,{}),(0,v.jsx)(b.m_,{id:"taxTooltip"}),(0,v.jsxs)("div",{className:"content__body",children:[(0,v.jsxs)("div",{className:"mb-5 w-full bg-white rounded p-4 shadow-sm add_new_compnent overflow-hidden\n            transition-all\n          ",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center",children:[(0,v.jsx)("div",{className:"flex flex-col",children:(0,v.jsxs)("select",{value:T,onChange:e=>E(e.target.value),children:[(0,v.jsx)("option",{value:10,children:"10"}),(0,v.jsx)("option",{value:25,children:"25"}),(0,v.jsx)("option",{value:50,children:"50"}),(0,v.jsx)("option",{value:100,children:"100"})]})}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("div",{className:"flex w-full flex-col lg:w-[300px]",children:(0,v.jsx)("input",{type:"text",placeholder:"Search...",onChange:e=>{const t=e.target.value.toLowerCase();document.querySelectorAll(".list__table tbody tr").forEach((e=>{const l=e.querySelectorAll("td");let s=!1;l.forEach(((e,l)=>{0!==l&&e.innerHTML.toLowerCase().includes(t)&&(s=!0)})),e.style.display=s?"":"none"}))},className:"p-[6px]"})}),(0,v.jsxs)("button",{onClick:()=>(async e=>{if(0===D.length||"active"!==z)return;try{const t=await fetch("https://ezy-bill-api.tisindia.net/api/v1/tax/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:D,trash:e})}),s=await t.json();return 200!==t.status||s.err?l(s.err,"error"):(D.forEach(((e,t)=>{B((t=>t.filter(((t,l)=>t._id!==e))))})),O([]),l(s.msg,"success"))}catch(t){console.log(t),l("Something went wrong","error")}})(!1),className:"".concat(D.length>0?"bg-red-400 text-white":"bg-gray-100"," border"),children:[(0,v.jsx)(o.Rrl,{className:"text-lg"}),"Delete"]}),(0,v.jsxs)("button",{onClick:()=>W("/admin/tax/add"),className:"bg-[#003E32] text-white ",children:[(0,v.jsx)(j.Hpy,{className:"text-xl text-white"}),"Add New"]}),(0,v.jsx)("div",{className:"flex justify-end",children:(0,v.jsx)(f.A,{placement:"leftStart",trigger:"click",speaker:(0,v.jsxs)(g.A,{full:!0,children:[(0,v.jsxs)("div",{className:"download__menu",onClick:()=>H("print"),children:[(0,v.jsx)(c.KkQ,{className:"text-[16px]"}),"Print Table"]}),(0,v.jsxs)("div",{className:"download__menu",onClick:()=>H("copy"),children:[(0,v.jsx)(r.zU_,{className:"text-[16px]"}),"Copy Table"]}),(0,v.jsxs)("div",{className:"download__menu",onClick:()=>H("pdf"),children:[(0,v.jsx)(r.uNb,{className:"text-[16px]"}),"Download Pdf"]}),(0,v.jsxs)("div",{className:"download__menu",onClick:()=>H("excel"),children:[(0,v.jsx)(r.dNf,{className:"text-[16px]"}),"Download Excel"]})]}),children:(0,v.jsx)("div",{className:"record__download",children:(0,v.jsx)(j.rBu,{})})})})]})]}),(0,v.jsx)("div",{id:"itemFilter"})]}),F?(0,v.jsx)(u.A,{}):U.length>0?(0,v.jsx)("div",{className:"content__body__main",children:(0,v.jsxs)("div",{className:"overflow-x-auto list__table",children:[(0,v.jsxs)("table",{className:"min-w-full bg-white",id:"listOfTax",ref:q,children:[(0,v.jsx)("thead",{className:"list__table__head",children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"py-2 px-4 border-b w-[50px]",children:(0,v.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?O(U.map(((e,t)=>e._id))):O([])},checked:U.length>0&&D.length===U.length})}),(0,v.jsx)("th",{className:"py-2 px-4 border-b",children:"Title"}),(0,v.jsx)("th",{className:"py-2 px-4 border-b w-[70px]",children:"Action"})]})}),(0,v.jsx)("tbody",{children:U.map(((e,t)=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"py-2 px-4 border-b max-w-[10px]",children:(0,v.jsx)("input",{type:"checkbox",checked:D.includes(e._id),onChange:()=>{return t=e._id,void O((e=>e.includes(t)?e.filter(((e,l)=>e!==t)):[...e,t]));var t}})}),(0,v.jsx)("td",{className:"px-4 border-b",align:"center",children:e.title}),(0,v.jsx)("td",{className:"px-4 text-center",children:(0,v.jsx)(f.A,{placement:"leftStart",trigger:"click",speaker:(0,v.jsx)(g.A,{full:!0,children:(0,v.jsxs)("div",{className:"table__list__action__icon",onClick:()=>W("/admin/tax/edit/".concat(e._id)),children:[(0,v.jsx)(r.wwX,{className:"text-[16px]"}),"Edit"]})}),children:(0,v.jsx)("div",{className:"table__list__action",children:(0,v.jsx)(y.$Ri,{})})})})]},t)))})]}),(0,v.jsxs)("div",{className:"paginate__parent",children:[(0,v.jsxs)("p",{children:["Showing ",U.length," of ",R," entries"]}),(0,v.jsxs)("div",{className:"flex justify-end gap-2",children:[A>1?(0,v.jsx)("div",{onClick:()=>S(A-1),className:"border bg-blue-600 text-white w-[20px] h-[20px] grid place-items-center rounded cursor-pointer",children:(0,v.jsx)(m.xrT,{})}):null,Array.from({length:Math.ceil(R/T)}).map(((e,t)=>(0,v.jsx)("div",{onClick:()=>S(t+1),className:"border-blue-400 border w-[20px] h-[20px] text-center rounded cursor-pointer",style:A===t+1?{border:"1px solid blue"}:{},children:t+1}))),R/T>A?(0,v.jsx)("div",{onClick:()=>S(A+1),className:"border bg-blue-600 text-white w-[20px] h-[20px] flex items-center justify-center rounded cursor-pointer",children:(0,v.jsx)(m.Xor,{})}):null]})]})]})}):(0,v.jsx)(w.A,{title:"Tax",link:"/admin/tax/add"})]})]})]})}},50477:()=>{}}]);
//# sourceMappingURL=8284.21e4f9b9.chunk.js.map