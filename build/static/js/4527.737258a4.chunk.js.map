{"version":3,"file":"static/js/4527.737258a4.chunk.js","mappings":"0IAEA,MAcA,EAdoBA,KAEhBC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAE9BF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,SACjCC,MAAMC,KAAK,CAAEC,OAAQ,IAAKC,KAAI,CAACC,EAAGC,KACjCR,EAAAA,EAAAA,KAAA,OAAaC,UAAU,mCAAbM,U,qJCEtBE,SAASC,MAAQ,mBACjB,MAuNA,EAvNgBC,KACZ,MAAMC,GAAQC,EAAAA,EAAAA,MACPC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAYC,IAAiBN,EAAAA,EAAAA,UAAS,CACzCO,UAAU,IAAIC,MAAOC,cAAcC,MAAM,KAAK,GAC9CC,QAAQ,IAAIH,MAAOC,cAAcC,MAAM,KAAK,GAC5CE,QAAS,WAENC,EAAaC,IAAkBd,EAAAA,EAAAA,UAAS,MAKzCe,EAAUC,UACZ,GAAIC,OAAOC,OAAOb,GAAYc,MAAMC,IAAWA,GAAmB,KAAVA,IACpD,OAAOxB,EAAM,0BAA2B,SAG5C,IACIQ,GAAW,GACXU,EAAe,GACf,MAAMO,EAAQC,EAAAA,EAAQC,IAAI,SAE1B,IAAIC,EAAMC,2CACiB,UAAvBpB,EAAWO,QAAqBY,GAAO,uBACX,aAAvBnB,EAAWO,UAAwBY,GAAO,2BAEnD,MAAME,EAAU,CACZC,SAAUtB,EAAWE,SACrBI,OAAQN,EAAWM,OACnBU,MAAOA,GAGLO,QAAYC,MAAML,EAAK,CACzBM,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUR,KAEnBS,QAAYP,EAAIQ,OAGtB,GADAhC,GAAW,GACQ,MAAfwB,EAAIS,QAAkBF,EAAIG,KAAKjD,OAAS,EAExC,OADAU,EAAY,IACLH,EAAM,gCAAiC,SAGlDG,EAAY,IAAO,OAAHoC,QAAG,IAAHA,OAAG,EAAHA,EAAKG,OACrBlC,GAAW,GAEX,MAAMmC,EAAQJ,EAAIG,KAAKE,QAAO,CAACC,EAAKlD,IAAMkD,EAAMlD,EAAEmD,aAAa,GAC/D5B,EAAeyB,EAEnB,CAAE,MAAOI,GACL,OAAO/C,EAAM,0BAA2B,QAC5C,IAEJgD,EAAAA,EAAAA,YAAU,KACN7B,GAAS,GACV,IA6BH,OACI8B,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAA5D,SAAA,EACIF,EAAAA,EAAAA,KAAC+D,EAAAA,EAAG,CAACrD,MAAO,aACZmD,EAAAA,EAAAA,MAAA,QAAMG,GAAG,OAAM9D,SAAA,EACXF,EAAAA,EAAAA,KAACiE,EAAAA,EAAO,KACRJ,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,gBAAeC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2BAA0BC,UACrC2D,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,+CAA8CC,SAAA,EACzD2D,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,sCAAqCC,SAAA,EAChDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,UAASC,SAAC,eACvBF,EAAAA,EAAAA,KAAA,SACIkE,KAAK,OACLC,MAAO9C,EAAWE,SAClB6C,SAAWC,IACP/C,GAAagD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIjD,GAAU,IAAEE,SAAU8C,EAAEE,OAAOJ,QAAQ,QAItEN,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,sCAAqCC,SAAA,EAChDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,UAASC,SAAC,aACvBF,EAAAA,EAAAA,KAAA,SACIkE,KAAK,OACLC,MAAO9C,EAAWM,OAClByC,SAAWC,IACP/C,GAAagD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIjD,GAAU,IAAEM,OAAQ0C,EAAEE,OAAOJ,QAAQ,QAIpEN,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,sCAAqCC,SAAA,EAChDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,UAASC,SAAC,oBACvB2D,EAAAA,EAAAA,MAAA,UACIM,MAAO9C,EAAWO,QAClBwC,SAAWC,IACP/C,GAAagD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIjD,GAAU,IAAEO,QAASyC,EAAEE,OAAOJ,QAAQ,EAC3DjE,SAAA,EAEFF,EAAAA,EAAAA,KAAA,UAAQmE,MAAM,GAAEjE,SAAC,YACjBF,EAAAA,EAAAA,KAAA,UAAQmE,MAAM,QAAOjE,SAAC,WACtBF,EAAAA,EAAAA,KAAA,UAAQmE,MAAM,WAAUjE,SAAC,oBAGjC2D,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,qCAAoCC,SAAA,EAC/C2D,EAAAA,EAAAA,MAAA,UACI5D,UAAU,eACVuE,QAASzC,EAAQ7B,SAAA,EAEjBF,EAAAA,EAAAA,KAACyE,EAAAA,EAAMC,OAAM,IAAG,aAGpBb,EAAAA,EAAAA,MAAA,UACI5D,UAAU,iBACVuE,QAjEZG,KAChBrD,GAAcsD,IACVN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACOM,GAAE,IACLrD,UAAU,IAAIC,MAAOC,cAAcC,MAAM,KAAK,GAC9CC,QAAQ,IAAIH,MAAOC,cAAcC,MAAM,KAAK,GAC5CE,QAAS,YAIjBG,GAAS,EAuDwC7B,SAAA,EAErBF,EAAAA,EAAAA,KAACyE,EAAAA,EAAMI,MAAK,IAAG,mBAS1B1D,GAsDKnB,EAAAA,EAAAA,KAACD,EAAAA,EAAW,KArDdC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,SAE/BY,EAAST,OAAS,GACfL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8BAA6BC,UACxC2D,EAAAA,EAAAA,MAAA,SAAO5D,UAAU,sBAAsB+D,GAAG,gBAAe9D,SAAA,EACrDF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,oBAAmBC,UAChC2D,EAAAA,EAAAA,MAAA,MAAA3D,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oCAAoCuE,QAhG/EM,KACf,MAAMC,EAAS,IAAIjE,GAAUkE,MAAK,CAACC,EAAGC,KAClC,MAAMC,EAAQ,IAAI3D,KAAKyD,EAAEG,aACnBC,EAAQ,IAAI7D,KAAK0D,EAAEE,aACzB,OAAOnE,EAAYkE,EAAQE,EAAQA,EAAQF,CAAK,IAGpDpE,EAAYgE,GACZ7D,GAAcD,EAAU,EAwF0Ff,UAClE2D,EAAAA,EAAAA,MAAA,OAAK5D,UAAU,mCAAkCC,SAAA,CAAC,QACxCe,GAAYjB,EAAAA,EAAAA,KAACyE,EAAAA,EAAMa,SAAQ,KAAMtF,EAAAA,EAAAA,KAACyE,EAAAA,EAAMc,OAAM,UAG5DvF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAC,iBACnCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAC,gBACnCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBC,SAAC,iBAG3CF,EAAAA,EAAAA,KAAA,SAAAE,SAEgB,OAARY,QAAQ,IAARA,OAAQ,EAARA,EAAUR,KAAI,CAAC4E,EAAG1E,KACPqD,EAAAA,EAAAA,MAAA,MAAA3D,SAAA,EACHF,EAAAA,EAAAA,KAAA,MAAIwF,MAAM,SAASvF,UAAU,QAAOC,SAAEgF,EAAEE,YAAY1D,MAAM,KAAK,MAC/D1B,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gBAAgBuF,MAAM,SAAQtF,SACvCgF,EAAEO,oBAAsBP,EAAEQ,yBAE/B1F,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gBAAgBuF,MAAM,SAAQtF,SAAEgF,EAAES,MAAMC,QACtD5F,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gBAAgBuF,MAAM,SAAQtF,SAAEgF,EAAExB,gBANpClD,QAW5BR,EAAAA,EAAAA,KAAA,SAAOC,UAAU,SAAQC,UACrB2D,EAAAA,EAAAA,MAAA,MAAA3D,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAI6F,QAAS,EACTL,MAAM,QACNvF,UAAU,2CAA0CC,SACvD,kBAGDF,EAAAA,EAAAA,KAAA,MAAIwF,MAAM,SAASvF,UAAU,4BAA2BC,SACnD2B,eAOrBgC,EAAAA,EAAAA,MAAA,KAAG5D,UAAU,iEAAgEC,SAAA,EACzEF,EAAAA,EAAAA,KAACyE,EAAAA,EAAMqB,QAAO,CAAC7F,UAAU,aAAa,6BASnE,C","sources":["components/DataShimmer.jsx","pages/Report/Daybook.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nconst DataShimmer = () => {\r\n  return (\r\n    <div className='shimmer__parent'>\r\n      {/* table text */}\r\n      <div>\r\n        <div className='flex flex-col gap-2'>\r\n          {Array.from({ length: 8 }).map((i, _) =>\r\n            <div key={i} className='animate w-full h-[20px] rounded'></div>)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DataShimmer;\r\n","import { useEffect, useState } from \"react\";\r\nimport DataShimmer from \"../../components/DataShimmer\";\r\nimport Nav from \"../../components/Nav\";\r\nimport SideNav from \"../../components/SideNav\";\r\nimport { Icons } from \"../../helper/icons\";\r\nimport useMyToaster from \"../../hooks/useMyToaster\";\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\n\r\n\r\ndocument.title = \"Report | Daybook\";\r\nconst DayBook = () => {\r\n    const toast = useMyToaster();\r\n    const [billData, setBillData] = useState([]);\r\n    const [ascending, setAscending] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [filterData, setFilterData] = useState({\r\n        formDate: new Date().toISOString().split(\"T\")[0],\r\n        toDate: new Date().toISOString().split(\"T\")[0],\r\n        voucher: 'sales',\r\n    })\r\n    const [totalAmount, setTotalAmount] = useState(null);\r\n\r\n\r\n\r\n\r\n    const getData = async () => {\r\n        if (Object.values(filterData).some((field) => !field || field === \"\")) {\r\n            return toast(\"Please fill all filters\", 'error');\r\n        }\r\n\r\n        try {\r\n            setLoading(true);\r\n            setTotalAmount(0);\r\n            const token = Cookies.get(\"token\");\r\n\r\n            let url = process.env.REACT_APP_API_URL;\r\n            if (filterData.voucher === \"sales\") url += \"/salesinvoice/filter\";\r\n            else if (filterData.voucher === \"purchase\") url += \"/purchaseinvoice/filter\";\r\n\r\n            const payload = {\r\n                fromDate: filterData.formDate,\r\n                toDate: filterData.toDate,\r\n                token: token\r\n            }\r\n\r\n            const req = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(payload)\r\n            })\r\n            const res = await req.json();\r\n\r\n            setLoading(false);\r\n            if (req.status !== 200 || res.data.length < 1) {\r\n                setBillData([]);\r\n                return toast('No bill found in this voucher', 'error');\r\n            }\r\n\r\n            setBillData([...res?.data])\r\n            setLoading(false);\r\n\r\n            const total = res.data.reduce((acc, i) => acc + i.finalAmount, 0);\r\n            setTotalAmount(total)\r\n\r\n        } catch (error) {\r\n            return toast(\"Something went to wrong\", 'error');\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getData();\r\n    }, [])\r\n\r\n\r\n    const sortByDate = () => {\r\n        const sorted = [...billData].sort((a, b) => {\r\n            const dateA = new Date(a.invoiceDate);\r\n            const dateB = new Date(b.invoiceDate);\r\n            return ascending ? dateA - dateB : dateB - dateA;\r\n        });\r\n\r\n        setBillData(sorted);\r\n        setAscending(!ascending);\r\n    };\r\n\r\n\r\n    const resetFilter = () => {\r\n        setFilterData(pv => {\r\n            return {\r\n                ...pv,\r\n                formDate: new Date().toISOString().split(\"T\")[0],\r\n                toDate: new Date().toISOString().split(\"T\")[0],\r\n                voucher: 'sales',\r\n            }\r\n        })\r\n\r\n        getData();\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Nav title={\"DayBook\"} />\r\n            <main id='main'>\r\n                <SideNav />\r\n                <div className='content__body'>\r\n                    <div className=\"content__body__main mb-4\">\r\n                        <div className=\"flex flex-col md:flex-row gap-4 items-center\">\r\n                            <div className='flex flex-col gap-1 w-full lg:w-1/2'>\r\n                                <p className='text-xs'>From Date</p>\r\n                                <input\r\n                                    type='date'\r\n                                    value={filterData.formDate}\r\n                                    onChange={(e) => {\r\n                                        setFilterData({ ...filterData, formDate: e.target.value })\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className='flex flex-col gap-1 w-full lg:w-1/2'>\r\n                                <p className='text-xs'>To Date</p>\r\n                                <input\r\n                                    type='date'\r\n                                    value={filterData.toDate}\r\n                                    onChange={(e) => {\r\n                                        setFilterData({ ...filterData, toDate: e.target.value })\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className='flex flex-col gap-1 w-full lg:w-1/2'>\r\n                                <p className='text-xs'>Select Voucher</p>\r\n                                <select\r\n                                    value={filterData.voucher}\r\n                                    onChange={(e) => {\r\n                                        setFilterData({ ...filterData, voucher: e.target.value })\r\n                                    }}\r\n                                >\r\n                                    <option value=\"\">Select</option>\r\n                                    <option value=\"sales\">Sales</option>\r\n                                    <option value=\"purchase\">Purchase</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className='w-full flex justify-end gap-3 mt-3'>\r\n                                <button\r\n                                    className='add-bill-btn'\r\n                                    onClick={getData}\r\n                                >\r\n                                    <Icons.SEARCH />\r\n                                    Search\r\n                                </button>\r\n                                <button\r\n                                    className='reset-bill-btn'\r\n                                    onClick={resetFilter}\r\n                                >\r\n                                    <Icons.RESET />\r\n                                    Reset\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        !loading ?\r\n                            <div className='content__body__main'>\r\n                                {/* Table start */}\r\n                                {billData.length > 0 ?\r\n                                    <div className='overflow-x-auto list__table'>\r\n                                        <table className='min-w-full bg-white' id='listQuotation'>\r\n                                            <thead className='list__table__head'>\r\n                                                <tr>\r\n                                                    <th className='py-2 px-4 border-b cursor-pointer' onClick={sortByDate}>\r\n                                                        <div className='flex items-center justify-center'>\r\n                                                            Date {ascending ? <Icons.DROPDOWN /> : <Icons.DROPUP />}\r\n                                                        </div>\r\n                                                    </th>\r\n                                                    <th className='py-2 px-4 border-b'>Invoice No.</th>\r\n                                                    <th className='py-2 px-4 border-b'>Party Name</th>\r\n                                                    <th className='py-2 px-4 border-b'>Amount</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    billData?.map((b, _) => {\r\n                                                        return <tr key={_}>\r\n                                                            <td align=\"center\" className=\"py-2 \">{b.invoiceDate.split(\"T\")[0]}</td>\r\n                                                            <td className='px-4 border-b' align=\"center\">\r\n                                                                {b.salesInvoiceNumber || b.purchaseInvoiceNumber}\r\n                                                            </td>\r\n                                                            <td className='px-4 border-b' align=\"center\">{b.party.name}</td>\r\n                                                            <td className='px-4 border-b' align=\"center\">{b.finalAmount}</td>\r\n                                                        </tr>\r\n                                                    })\r\n                                                }\r\n                                            </tbody>\r\n                                            <tfoot className=\"border\">\r\n                                                <tr>\r\n                                                    <td colSpan={3}\r\n                                                        align=\"right\"\r\n                                                        className=\"py-2 font-semibold uppercase text-[15px]\"\r\n                                                    >\r\n                                                        Total Amount\r\n                                                    </td>\r\n                                                    <td align=\"center\" className=\"font-semibold text-[15px]\">\r\n                                                        {totalAmount}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tfoot>\r\n                                        </table>\r\n                                    </div>\r\n                                    :\r\n                                    <p className=\"font-semibold text-xl text-gray-300 flex flex-col items-center\">\r\n                                        <Icons.INVOICE className=\"text-2xl\" />\r\n                                        No Data Found\r\n                                    </p>\r\n                                }\r\n                            </div>\r\n                            : <DataShimmer />\r\n                    }\r\n                </div>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DayBook;"],"names":["DataShimmer","_jsx","className","children","Array","from","length","map","i","_","document","title","DayBook","toast","useMyToaster","billData","setBillData","useState","ascending","setAscending","loading","setLoading","filterData","setFilterData","formDate","Date","toISOString","split","toDate","voucher","totalAmount","setTotalAmount","getData","async","Object","values","some","field","token","Cookies","get","url","process","payload","fromDate","req","fetch","method","headers","body","JSON","stringify","res","json","status","data","total","reduce","acc","finalAmount","error","useEffect","_jsxs","_Fragment","Nav","id","SideNav","type","value","onChange","e","_objectSpread","target","onClick","Icons","SEARCH","resetFilter","pv","RESET","sortByDate","sorted","sort","a","b","dateA","invoiceDate","dateB","DROPDOWN","DROPUP","align","salesInvoiceNumber","purchaseInvoiceNumber","party","name","colSpan","INVOICE"],"sourceRoot":""}