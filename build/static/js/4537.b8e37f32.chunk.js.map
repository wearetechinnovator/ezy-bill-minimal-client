{"version":3,"file":"static/js/4537.b8e37f32.chunk.js","mappings":"0IAEA,MAMA,EANgBA,KAEZC,EAAAA,EAAAA,KAAA,OAAKC,MAAM,gF,mCCJf,MAkBA,EAlBsBC,IACHC,IACf,MAAMC,EAAWC,SAASC,eAAeH,GAErCC,IACFA,EAASG,UAAUC,IAAI,SACvBJ,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAExFC,YAAW,KACTV,EAASG,UAAUQ,OAAO,SAC1BX,EAASK,iBAAiB,SAASC,SAAQC,GAAcA,EAAWC,MAAMC,YAAc,QAAO,GAC9F,KACL,C,+JCDJ,MAsFA,EAtFcG,KACZ,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,CAAEC,MAAO,GAAIC,SAAU,KAC5DC,GAAUpB,EAAAA,EAAAA,KACVqB,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,MACPC,EAASC,IAAcT,EAAAA,EAAAA,WAAS,GA4CvC,OACEU,EAAAA,EAAAA,MAAA,QAAMC,UAAU,cAAaC,SAAA,EAC3B/B,EAAAA,EAAAA,KAAA,OAAKgC,IAAKC,EAAMC,IAAI,WAAWJ,UAAU,UACzCD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA2BK,GAAG,WAAUJ,SAAA,EACrD/B,EAAAA,EAAAA,KAAA,MAAI8B,UAAU,+CAA8CC,SAAC,aAC7DF,EAAAA,EAAAA,MAAA,QAAMO,SA9COC,UACjBC,EAAEC,iBACF,MAAMC,EAASC,OAAOC,YAAY,IAAIC,SAASL,EAAEM,SAEjD,IAAK,IAAIC,KAASJ,OAAOK,KAAKN,GAC5B,GAAsB,KAAlBA,EAAOK,SAAmCE,IAAlBP,EAAOK,IAA0C,OAAlBL,EAAOK,GAEhE,YADAvB,EAAQ,YAKZ,IACEM,GAAW,GACX,MAAMoB,EAAMC,sDACNC,QAAYC,MAAMH,EAAK,CAC3BI,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUvC,KAGjBwC,QAAYP,EAAIQ,OAGtB,GADA9B,GAAW,GACQ,MAAfsB,EAAIS,SAAmBF,EAAIG,MAC7B,OAAOnC,EAAMgC,EAAII,IAAK,SAGxBC,EAAAA,EAAQC,IAAI,QAASN,EAAIO,MAAO,CAAEC,QAAQ,IAC1C1C,EAAS,mBAEX,CAAE,MAAO2C,GAGP,OAFAtC,GAAW,GACXuC,QAAQC,IAAIF,GACLzC,EAAM,uBAAwB,QACvC,GAU+BM,SAAA,EACzB/B,EAAAA,EAAAA,KAAA,SAAOqE,KAAK,QAAQC,KAAK,QACvBC,MAAOtD,EAAUG,MACjBoD,SAAWlC,GAAMpB,GAAYuD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIxD,GAAS,IAAEG,MAAOkB,EAAEM,OAAO2B,SAC9DzC,UAAU,cAAc4C,YAAY,iBAEtC1E,EAAAA,EAAAA,KAAA,SAAOqE,KAAK,WAAWC,KAAK,OAC1BC,MAAOtD,EAAUI,SACjBmD,SAAWlC,GAAMpB,GAAYuD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIxD,GAAS,IAAEI,SAAUiB,EAAEM,OAAO2B,SACjEzC,UAAU,cAAc4C,YAAY,oBAEtC7C,EAAAA,EAAAA,MAAA,UACE8C,WAAUhD,EACVG,UAAU,sDAAqDC,SAAA,CAC9DJ,GAAU3B,EAAAA,EAAAA,KAACD,EAAAA,EAAO,IAAM,KAAK,qBAc/B,C","sources":["components/Loading.jsx","hooks/useLoginShake.jsx","pages/Auth/Login.jsx"],"sourcesContent":["import React from 'react'\r\n// Circular Progress indicator\r\nconst Loading = () => {\r\n  return (\r\n    <div class=\"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin\"></div>\r\n  )\r\n}\r\n\r\nexport default Loading","const useLoginShake = () => {\r\n  const shakeIt = (loginBoxId) => {\r\n    const loginBox = document.getElementById(loginBoxId);\r\n\r\n    if (loginBox) {\r\n      loginBox.classList.add('shake');\r\n      loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = 'red');\r\n\r\n      setTimeout(() => {\r\n        loginBox.classList.remove('shake');\r\n        loginBox.querySelectorAll('input').forEach(inputField => inputField.style.borderColor = '#ccc')\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return shakeIt;\r\n}\r\n\r\nexport default useLoginShake;\r\n","import \"../../assets/css/login.css\"\r\nimport Logo from '../../assets/images/logo.png';\r\nimport { useState } from \"react\";\r\nimport useLoginShake from \"../../hooks/useLoginShake\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useMyToaster from \"../../hooks/useMyToaster\";\r\nimport Cookies from 'js-cookie';\r\nimport Loading from '../../components/Loading'\r\n\r\n\r\n\r\nconst Login = () => {\r\n  const [loginData, setLoginData] = useState({ email: '', password: '' });\r\n  const shakeIt = useLoginShake();\r\n  const navigate = useNavigate();\r\n  const toast = useMyToaster();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  const formAction = async (e) => {\r\n    e.preventDefault();\r\n    const fields = Object.fromEntries(new FormData(e.target));\r\n\r\n    for (let field of Object.keys(fields)) {\r\n      if (fields[field] === '' || fields[field] === undefined || fields[field] === null) {\r\n        shakeIt('loginBox');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      const url = process.env.REACT_APP_API_URL + \"/user/login\";\r\n      const req = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(loginData)\r\n      });\r\n\r\n      const res = await req.json();\r\n\r\n      setLoading(false);\r\n      if (req.status !== 200 || !res.login) {\r\n        return toast(res.err, \"error\")\r\n      }\r\n\r\n      Cookies.set(\"token\", res.token, { secure: true });\r\n      navigate(\"/admin/dashboard\")\r\n\r\n    } catch (error) {\r\n      setLoading(false)\r\n      console.log(error)\r\n      return toast(\"Something went wrong\", \"error\")\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <main className='login__main'>\r\n      <img src={Logo} alt=\"Logo.png\" className='mb-5' />\r\n      <div className=\"login__box flex flex-col\" id=\"loginBox\">\r\n        <h1 className='text-center text-[25px] mb-8 mt-4 text-white'>Sign In</h1>\r\n        <form onSubmit={formAction}>\r\n          <input type=\"emial\" name=\"email\"\r\n            value={loginData.email}\r\n            onChange={(e) => setLoginData({ ...loginData, email: e.target.value })}\r\n            className='input_style' placeholder='Enter email'\r\n          />\r\n          <input type=\"password\" name=\"pass\"\r\n            value={loginData.password}\r\n            onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\r\n            className='input_style' placeholder='Enter password'\r\n          />\r\n          <button\r\n            disabled={loading ? true : false}\r\n            className='button_style flex items-center gap-2 justify-center'>\r\n            {loading ? <Loading /> : null}\r\n            Sign in\r\n          </button>\r\n        </form>\r\n        {/* <div className='flex justify-center text-[12px]'>\r\n          You have no account?\r\n          <Link to={'/admin/signup'} className=\"ml-1\">\r\n            SignUp\r\n          </Link>\r\n        </div>\r\n        <div className='flex justify-center mt-2 text-[12px]'>\r\n          <Link to={'/admin/forget'}>Forgot password</Link>\r\n        </div> */}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Login"],"names":["Loading","_jsx","class","useLoginShake","loginBoxId","loginBox","document","getElementById","classList","add","querySelectorAll","forEach","inputField","style","borderColor","setTimeout","remove","Login","loginData","setLoginData","useState","email","password","shakeIt","navigate","useNavigate","toast","useMyToaster","loading","setLoading","_jsxs","className","children","src","Logo","alt","id","onSubmit","async","e","preventDefault","fields","Object","fromEntries","FormData","target","field","keys","undefined","url","process","req","fetch","method","headers","body","JSON","stringify","res","json","status","login","err","Cookies","set","token","secure","error","console","log","type","name","value","onChange","_objectSpread","placeholder","disabled"],"sourceRoot":""}